<script setup lang="ts">
import PlayerDrawer from '../components/PlayerDrawer.vue'

// ÂΩìÂâçÊí≠ÊîæÊ≠åÊõ≤
const currentSong = ref({
  title: 'Â§úÁ©∫‰∏≠ÊúÄ‰∫ÆÁöÑÊòü',
  artist: 'ÈÄÉË∑ëËÆ°Âàí',
  album: '‰∏ñÁïå',
  duration: '04:12',
  emoji: 'üåü',
  gradient: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'
})

// ÊäΩÂ±âÁä∂ÊÄÅ
const isDrawerOpen = ref(false)

// ÊâìÂºÄÊí≠ÊîæÂô®ÊäΩÂ±â
const openPlayerDrawer = () => {
  isDrawerOpen.value = true
}

// ÂÖ≥Èó≠Êí≠ÊîæÂô®ÊäΩÂ±â
const closePlayerDrawer = () => {
  isDrawerOpen.value = false
}

// Êí≠ÊîæÂô®‰∫ã‰ª∂Â§ÑÁêÜ
const handlePlay = () => {
  console.log('Êí≠Êîæ')
}

const handlePause = () => {
  console.log('ÊöÇÂÅú')
}

const handleNext = () => {
  console.log('‰∏ã‰∏ÄÈ¶ñ')
}

const handlePrevious = () => {
  console.log('‰∏ä‰∏ÄÈ¶ñ')
}

const handleVolumeChange = (volume: number) => {
  console.log('Èü≥ÈáèÂèòÂåñ:', volume)
}
</script>
<template>
  <footer class="glass-nav m-4 p-4">
    <div class="flex items-center justify-between">
      <!-- Â∑¶‰æßÔºöÂΩìÂâçÊ≠åÊõ≤‰ø°ÊÅØ -->
      <div class="flex min-w-0 flex-1 items-center space-x-4">
        <div
          @click="openPlayerDrawer"
          class="flex h-12 w-12 cursor-pointer items-center justify-center rounded-lg bg-gradient-to-br from-pink-400 to-purple-500 transition-all duration-300 hover:scale-105 hover:shadow-lg"
        >
          <span class="text-lg text-white">üéµ</span>
        </div>
        <div class="min-w-0">
          <p class="truncate text-sm font-medium text-white">{{ currentSong.title }}</p>
          <p class="truncate text-xs text-purple-300">{{ currentSong.artist }}</p>
        </div>
        <button class="text-white/70 transition-colors hover:text-white">
          <span class="icon-[mdi--heart-outline] h-5 w-5"></span>
        </button>
      </div>

      <!-- ‰∏≠Èó¥ÔºöÊí≠ÊîæÊéßÂà∂ -->
      <div class="flex items-center space-x-4">
        <button class="text-white/70 transition-colors hover:text-white">
          <span class="icon-[mdi--shuffle] h-5 w-5"></span>
        </button>
        <button class="text-white/70 transition-colors hover:text-white">
          <span class="icon-[mdi--skip-previous] h-5 w-5"></span>
        </button>
        <button
          class="glass-button flex h-10 w-10 items-center justify-center bg-gradient-to-r from-pink-500 to-purple-600"
        >
          <div
            class="ml-0.5 h-0 w-0 border-y-3 border-l-4 border-y-transparent border-l-white"
          ></div>
        </button>
        <button class="text-white/70 transition-colors hover:text-white">
          <span class="icon-[mdi--skip-next] h-5 w-5"></span>
        </button>
        <button class="text-white/70 transition-colors hover:text-white">
          <span class="icon-[mdi--repeat] h-5 w-5"></span>
        </button>
      </div>

      <!-- Âè≥‰æßÔºöÈü≥ÈáèÂíåÂÖ∂‰ªñÊéßÂà∂ -->
      <div class="flex flex-1 items-center justify-end space-x-4">
        <button class="text-white/70 transition-colors hover:text-white">
          <span class="icon-[mdi--volume-high] h-5 w-5"></span>
        </button>
        <div class="h-1 w-20 overflow-hidden rounded-full bg-white/20">
          <div class="h-full w-2/3 rounded-full bg-gradient-to-r from-pink-400 to-purple-500"></div>
        </div>
        <button class="text-white/70 transition-colors hover:text-white">
          <span class="icon-[mdi--playlist-music] h-5 w-5"></span>
        </button>
      </div>
    </div>
    
    <!-- Êí≠ÊîæÂô®ÊäΩÂ±â -->
    <PlayerDrawer
      :is-open="isDrawerOpen"
      :current-song="currentSong"
      @close="closePlayerDrawer"
      @play="handlePlay"
      @pause="handlePause"
      @next="handleNext"
      @previous="handlePrevious"
      @volume-change="handleVolumeChange"
    />
  </footer>
</template>
