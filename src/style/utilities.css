@layer utilities {
  /* ═══════ 遮罩 ═══════ */
  .bottom-mask-gradient {
    background: linear-gradient(
      to top,
      var(--glass-bg-mask),
      var(--glass-bg-mask),
      transparent
    );
  }

  .mask-glass {
    background: var(--glass-bg-mask);
    backdrop-filter: blur(var(--glass-blur-md));
    -webkit-backdrop-filter: blur(var(--glass-blur-md));
  }

  /* ═══════ 进度条 ═══════ */
  .progress-track {
    background: var(--glass-progress-track);
  }

  .progress-fill {
    background: var(--glass-progress-fill);
  }

  /* ═══════ 文字 ═══════ */
  .text-dropdown-glass {
    color: var(--glass-text-contrast);
  }

  .text-glass-contrast {
    color: var(--glass-text-contrast);
  }

  .text-glass-primary {
    color: var(--glass-text-primary);
  }

  .text-glass-secondary {
    color: var(--glass-text-secondary);
  }

  .text-glass-muted {
    color: var(--glass-text-muted);
  }

  /* ═══════ 边框 ═══════ */
  .border-glass {
    border-color: var(--glass-border-default);
  }

  .border-glass-subtle {
    border-color: var(--glass-border-subtle);
  }

  .ring-glass {
    --tw-ring-color: var(--glass-border-default);
  }

  .divide-glass > :not(:last-child) {
    border-color: var(--glass-border-default);
  }

  /* ═══════ 背景 ═══════ */
  .bg-hover-glass {
    background: var(--glass-interactive-hover-muted);
  }

  .hover\:bg-hover-glass:hover {
    background: var(--glass-interactive-hover-muted);
  }

  .bg-button-glass {
    background: var(--glass-interactive-bg);
  }

  .bg-hover-button-glass {
    background: var(--glass-interactive-hover);
  }

  .bg-full {
    background-size: 100% 100%;
  }

  /* ═══════ 输入框 ═══════ */
  .placeholder-glass-50::placeholder {
    color: var(--glass-text-primary);
    opacity: 0.5;
  }

  /* ═══════ 滚动条 ═══════ */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* ═══════ 布局工具 ═══════ */
  .absolute-center {
    @apply absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2;
  }

  /* ═══════ 交互 ═══════ */
  .hover-scale {
    @apply transition-transform duration-300 hover:scale-105;
  }

  /* ═══════ 关键帧动画 ═══════ */
  @keyframes gradient-shift {
    0%,
    100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  @keyframes float {
    0%,
    100% {
      transform: translateY(0);
      opacity: 0.6;
    }
    25% {
      transform: translateY(-18px) rotate(45deg);
      opacity: 0.9;
    }
    50% {
      transform: translateY(-32px) rotate(135deg);
      opacity: 0.7;
    }
    75% {
      transform: translateY(-14px) rotate(225deg);
      opacity: 0.85;
    }
  }

  @keyframes pulse-glow {
    0%,
    100% {
      box-shadow: 0 0 16px rgba(167, 139, 250, 0.25);
    }
    50% {
      box-shadow: 0 0 32px rgba(167, 139, 250, 0.5);
    }
  }

  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  .animate-pulse-glow {
    animation: pulse-glow 2.5s ease-in-out infinite;
  }

  .animate-shimmer {
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.15),
      transparent
    );
    background-size: 200% 100%;
    animation: shimmer 2s infinite;
  }

  .animate-float {
    animation: float 4s ease-in-out infinite;
  }
}
