import{e as r,f as d,g as t,j as N,d as V,x as k,_ as b,b as h,F as M,k as w,l as P,w as _,h as s,m as x,y as K,a as B,t as L,z as O,c as q,A as F}from"./index-CdQ8spGY.js";import{_ as H}from"./index-CQGrfs3Q.js";const R={viewBox:"0 0 14 14",width:"1.2em",height:"1.2em"},E=t("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M4.645 11a.88.88 0 1 0 0-1.759a.88.88 0 0 0 0 1.76Zm3.957-1.099a.88.88 0 1 0 0-1.76a.88.88 0 0 0 0 1.76"}),t("path",{d:"M5.525 10.12V6.339l3.957-.932v3.616"}),t("path",{d:"M.5 12.25V1.75a1 1 0 0 1 1-1h3.69a1 1 0 0 1 1 .76l.31 1.24h6a1 1 0 0 1 1 1v8.5a1 1 0 0 1-1 1h-11a1 1 0 0 1-1-1"})],-1),I=[E];function T(l,a){return r(),d("svg",R,[...I])}const Z={name:"streamline-music-folder-song",render:T},G={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},J=t("g",{fill:"none",stroke:"currentColor","stroke-width":"2"},[t("circle",{cx:"12",cy:"7",r:"3"}),t("circle",{cx:"18",cy:"18",r:"2","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12.341 20H6a2 2 0 0 1-2-2a4 4 0 0 1 4-4h5.528M20 18v-7l2 2"})],-1),Q=[J];function W(l,a){return r(),d("svg",G,[...Q])}const X={name:"iconamoon-music-artist",render:W},Y={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ee=N('<g fill="none" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M2 6a4 4 0 0 1 4-4h12a4 4 0 0 1 4 4v12a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M9 16.5V8.78a1 1 0 0 1 .757-.97l6-1.5A1 1 0 0 1 17 7.28V15"></path><path d="m9 11l8-2"></path><circle cx="7.5" cy="16.5" r="1.5"></circle><circle cx="15.5" cy="15.5" r="1.5"></circle></g>',1),te=[ee];function ae(l,a){return r(),d("svg",Y,[...te])}const oe={name:"akar-icons-music-album",render:ae},ne={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},se=t("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"},[t("circle",{cx:"12",cy:"12",r:"2"}),t("circle",{cx:"18",cy:"9",r:"2"}),t("path",{d:"M15.318 3.631a9 9 0 1 0 5.368 10.736M20 9V2l2 2"})],-1),le=[se];function re(l,a){return r(),d("svg",ne,[...le])}const ie={name:"iconamoon-music-album-light",render:re},ce=V({__name:"MV",props:{modelValue:{type:Array},modelModifiers:{}},emits:["update:modelValue"],setup(l,{expose:a}){a();let o=k(l,"modelValue");const e={get modelValue(){return o},set modelValue(u){o=u}};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),de={class:"flex-1 p-4 md:p-6 grid gap-4 grid-cols-[repeat(auto-fill,minmax(220px,1fr))]"},ue={class:"p-2"},_e={class:"font-medium text-sm line-clamp-1"},me={class:"flex items-center gap-2 text-sm text-muted-foreground"},pe={class:"line-clamp-1 text-xs"};function ge(l,a,o,e,u,v){const m=h("el-image"),i=h("router-link");return r(),d("section",de,[(r(!0),d(M,null,w(e.modelValue,n=>(r(),P(i,{to:`/video?id=${n.id}`,class:"group relative overflow-hidden",key:n.id},{default:_(()=>[s(m,{src:n.cover+"?param=320y200",lazy:"",class:"transition-opacity rounded-lg"},null,8,["src"]),t("div",ue,[t("h3",_e,x(n.name),1),t("div",me,[t("span",pe,x(n.artists.map(y=>y.name).join(" / ")),1)])])]),_:2},1032,["to"]))),128))])}const he=b(ce,[["render",ge],["__file","/home/runner/work/KM-Music-Player/KM-Music-Player/src/views/search/components/MV.vue"]]),fe=V({__name:"SongList",props:{modelValue:{type:Array},modelModifiers:{}},emits:["update:modelValue"],setup(l,{expose:a}){a();let o=k(l,"modelValue");const e={get modelValue(){return o},set modelValue(u){o=u}};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),xe={class:"flex-1 p-4 md:p-6 grid gap-4 grid-cols-[repeat(auto-fill,minmax(180px,1fr))]"},ve={class:"p-2"},ye={class:"font-medium text-sm line-clamp-1"},Ve={class:"flex items-center gap-2 text-sm text-muted-foreground"},be={class:"line-clamp-1 text-xs"};function ke(l,a,o,e,u,v){const m=h("el-image"),i=h("router-link");return r(),d("section",xe,[(r(!0),d(M,null,w(e.modelValue,n=>(r(),P(i,{class:"group relative overflow-hidden",key:n.id,to:`/songlist?id=${n.id}`},{default:_(()=>[s(m,{src:n.coverImgUrl+"?param=200y200",lazy:"",class:"transition-opacity rounded-lg"},null,8,["src"]),t("div",ve,[t("h3",ye,x(n.name),1),t("div",Ve,[t("span",be,x(n.creator.nickname),1)])])]),_:2},1032,["to"]))),128))])}const Me=b(fe,[["render",ke],["__file","/home/runner/work/KM-Music-Player/KM-Music-Player/src/views/search/components/SongList.vue"]]),we=V({__name:"Album",props:{modelValue:{type:Array},modelModifiers:{}},emits:["update:modelValue"],setup(l,{expose:a}){a();let o=k(l,"modelValue");const e={get modelValue(){return o},set modelValue(u){o=u}};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),$e={class:"flex-1 p-4 md:p-6 grid gap-4 grid-cols-[repeat(auto-fill,minmax(180px,1fr))]"},De={class:"p-2"},Se={class:"font-medium text-sm line-clamp-1"},Ce={class:"flex items-center gap-2 text-sm text-muted-foreground"},ze={class:"line-clamp-1 text-xs"};function Pe(l,a,o,e,u,v){const m=h("el-image");return r(),d("section",$e,[(r(!0),d(M,null,w(e.modelValue,i=>(r(),d("div",{class:"group relative overflow-hidden",key:i.id},[s(m,{src:i.picUrl+"?param=260y260",lazy:"",class:"transition-opacity rounded-lg"},null,8,["src"]),t("div",De,[t("h3",Se,x(i.name),1),t("div",Ce,[t("span",ze,x(i.artists.map(n=>n.name).join(" / ")),1)])])]))),128))])}const je=b(we,[["render",Pe],["__file","/home/runner/work/KM-Music-Player/KM-Music-Player/src/views/search/components/Album.vue"]]),Ae=V({__name:"Artists",props:{modelValue:{type:Array},modelModifiers:{}},emits:["update:modelValue"],setup(l,{expose:a}){a();let o=k(l,"modelValue");const e={get modelValue(){return o},set modelValue(u){o=u}};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),Ue={class:"flex-1 p-4 md:p-6 grid gap-4 grid-cols-[repeat(auto-fill,minmax(180px,1fr))]"},Ne={class:"p-2"},Ke={class:"font-medium text-sm line-clamp-1 text-center"};function Be(l,a,o,e,u,v){const m=h("el-image");return r(),d("section",Ue,[(r(!0),d(M,null,w(e.modelValue,i=>(r(),d("div",{class:"group relative overflow-hidden",key:i.id},[s(m,{src:i.picUrl+"?param=260y260",lazy:"",class:"transition-opacity rounded-full"},null,8,["src"]),t("div",Ne,[t("h3",Ke,x(i.name),1)])]))),128))])}const Le=b(Ae,[["render",Be],["__file","/home/runner/work/KM-Music-Player/KM-Music-Player/src/views/search/components/Artists.vue"]]),Oe=V({__name:"index",setup(l,{expose:a}){a();const o=K(),e=B({activeName:"1",tableData:{},albumData:{albums:[]},singerData:{artists:[]},songData:{playlists:[]},mvData:{mvs:[]},currentPage:1,pageSize:30,size:"small",total:0}),{tableData:u,activeName:v,mvData:m,songData:i,singerData:n,albumData:y,currentPage:$,pageSize:D,size:S,total:C}=L(e),f=async(g,j,A,U=20)=>{const{result:p}=await q({kw:g,type:j,limit:U,offset:A});switch(e.activeName){case"1":e.tableData=e.tableData=p,e.total=p.songCount;break;case"10":e.albumData=e.albumData=p,e.total=p.albumCount;break;case"100":e.singerData=e.singerData=p,e.total=p.artistCount;break;case"1000":e.songData=e.songData=p,e.total=p.playlistCount;break;case"1004":e.mvData=e.mvData=p,e.total=p.mvCount;break}e.tableData=p};O(()=>o.query.kw,g=>{typeof g=="string"&&f(g)},{immediate:!0});const z={route:o,state:e,tableData:u,activeName:v,mvData:m,songData:i,singerData:n,albumData:y,currentPage:$,pageSize:D,size:S,total:C,performSearch:f,handleClick:({props:g})=>{e.currentPage=1,f(o.query.kw,g.name)},handleSizeChange:g=>{f(o.query.kw,e.activeName,e.currentPage,g)},handleCurrentChange:g=>{f(o.query.kw,e.activeName,g,e.pageSize)},MV:he,SongList:Me,Album:je,Artists:Le};return Object.defineProperty(z,"__isScriptSetup",{enumerable:!1,value:!0}),z}}),qe={class:"container h-full py-4 gap-2 w-full box-border flex flex-1 flex-col overflow-x-hidden"},Fe={class:"flex flex-col h-full px-4 gap-8 md:gap-12 lg:gap-16 overflow-x-hidden"},He={class:"flex gap-1 items-center"},Re=t("span",null,"Songs",-1),Ee={class:"flex gap-1 items-center"},Ie=t("span",null,"Album",-1),Te={class:"flex gap-1 items-center"},Ze=t("span",null,"Artists",-1),Ge={class:"flex gap-1 items-center"},Je=t("span",null,"SongList",-1),Qe={class:"flex gap-1 items-center"},We=t("span",null,"MV",-1);function Xe(l,a,o,e,u,v){const m=ie,i=H,n=h("el-tab-pane"),y=oe,$=X,D=Z,S=F,C=h("el-tabs"),f=h("el-pagination");return r(),d("div",qe,[t("div",Fe,[s(C,{modelValue:e.activeName,"onUpdate:modelValue":a[5]||(a[5]=c=>e.activeName=c),class:"demo-tabs",onTabClick:e.handleClick},{default:_(()=>[s(n,{name:"1"},{label:_(()=>[t("div",He,[s(m),Re])]),default:_(()=>[s(i,{modelValue:e.tableData.songs,"onUpdate:modelValue":a[0]||(a[0]=c=>e.tableData.songs=c)},null,8,["modelValue"])]),_:1}),s(n,{name:"10"},{label:_(()=>[t("div",Ee,[s(y),Ie])]),default:_(()=>[s(e.Album,{modelValue:e.albumData.albums,"onUpdate:modelValue":a[1]||(a[1]=c=>e.albumData.albums=c)},null,8,["modelValue"])]),_:1}),s(n,{name:"100"},{label:_(()=>[t("div",Te,[s($),Ze])]),default:_(()=>[s(e.Artists,{modelValue:e.singerData.artists,"onUpdate:modelValue":a[2]||(a[2]=c=>e.singerData.artists=c)},null,8,["modelValue"])]),_:1}),s(n,{name:"1000"},{label:_(()=>[t("div",Ge,[s(D),Je])]),default:_(()=>[s(e.SongList,{modelValue:e.songData.playlists,"onUpdate:modelValue":a[3]||(a[3]=c=>e.songData.playlists=c)},null,8,["modelValue"])]),_:1}),s(n,{name:"1004"},{label:_(()=>[t("div",Qe,[s(S),We])]),default:_(()=>[s(e.MV,{modelValue:e.mvData.mvs,"onUpdate:modelValue":a[4]||(a[4]=c=>e.mvData.mvs=c)},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])]),s(f,{class:"flex items-center justify-center","current-page":e.currentPage,"onUpdate:currentPage":a[6]||(a[6]=c=>e.currentPage=c),"page-size":e.pageSize,"onUpdate:pageSize":a[7]||(a[7]=c=>e.pageSize=c),"page-sizes":[10,20,30,40],size:e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.total,onSizeChange:e.handleSizeChange,onCurrentChange:e.handleCurrentChange},null,8,["current-page","page-size","size","total"])])}const ot=b(Oe,[["render",Xe],["__file","/home/runner/work/KM-Music-Player/KM-Music-Player/src/views/search/index.vue"]]);export{ot as default};
