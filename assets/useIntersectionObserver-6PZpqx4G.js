import{r as p,a1 as b,K as g}from"./index-CdQ8spGY.js";function h(a,{threshold:l=.1,root:u=null,rootMargin:v="0px",pageSize:f,initialPageNum:m},E){const r=p(m??1),s=new Map,o=new IntersectionObserver((t,c)=>{t.forEach(e=>{const n=e.target;e.isIntersecting&&s.get(n)&&(E(r.value,f),r.value++,c.unobserve(n))})},{threshold:l,root:u,rootMargin:v});return b(()=>{o.disconnect(),s.clear();const t=Array.isArray(a.value)?a.value:[a.value],c=t.length-1;t.forEach((e,n)=>{if(e){o.observe(e);const i=n===c;s.set(e,i)}})}),g(()=>{o.disconnect(),s.clear()}),{pageNum:r}}export{h as u};
