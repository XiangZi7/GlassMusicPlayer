import{G as V,j as F,r as B,t as D,o as N,n as C,a as _,b as i,c as f,f as d,F as L,h as S,e as n,d as o,w as s,k as U,l as M,m as v,g as j,i as E,p as R}from"./index-b248589c.js";import{_ as g}from"./musicTable-457f0f0d.js";import T from"./index-b6c1430c.js";import $ from"./index-5d5f9f2a.js";import"./formatTime-3cb25965.js";const A=""+new URL("B站-665d3d38.mp4",import.meta.url).href;const G=d("div",{class:"content-wrapper-header",style:{"margin-top":"-10px"}},[d("video",{src:A,autoplay:"",loop:"",muted:"",style:{"border-radius":"14px",width:"100%"}})],-1),P={class:"m-lib"},q={class:"content-section"},Q={__name:"index",setup(z){const h=V(),y=F(()=>h.isLogin),l=B({activeName:"first",buttonList:[{title:"每日推荐",color:"#409EFF"},{title:"最新MV",color:"#FF98A5"},{title:"排行榜",color:"#626aef"},{title:"歌手",color:"#EBA5F0"}],currentPage:1,songTotal:0,tableData:[]}),{activeName:m,buttonList:k,tableData:p}=D(l),w=async r=>{switch(l.tableData=[],r.props.label){case"热门歌曲":b();break;case"每日推荐":const{data:a}=await M();l.tableData=a.data.dailySongs.map(t=>{const e=t.ar.map(u=>u.name).join(",");return{cover:t.al.picUrl,title:t.name,singer:e,album:t.al.name,time:t.dt,id:t.id,mv:t.mv}});break}};N(()=>{b()});const b=async()=>{const{data:r}=await C();l.tableData=r.result.map(a=>{const t=a.song.artists.map(e=>e.name).join(",");return{cover:a.picUrl,title:a.name,singer:t,album:a.song.album.name,time:a.song.duration,id:a.id,mv:a.song.mvid}})};return(r,a)=>{const t=_("el-button"),e=_("el-tab-pane"),u=_("el-tabs");return i(),f("div",null,[G,d("div",P,[(i(!0),f(L,null,S(n(k),(c,x)=>(i(),v(t,{key:x,color:c.color,round:"",class:"m-lib-btn"},{default:s(()=>[j(E(c.title),1)]),_:2},1032,["color"]))),128))]),d("div",q,[o(u,{modelValue:n(m),"onUpdate:modelValue":a[0]||(a[0]=c=>U(m)?m.value=c:null),class:"demo-tabs",onTabClick:w},{default:s(()=>[o(e,{label:"热门歌曲",name:"first"},{default:s(()=>[o(g,{data:n(p)},null,8,["data"])]),_:1}),o(e,{label:"歌单",name:"second"},{default:s(()=>[o($)]),_:1}),o(e,{label:"MV",name:"third"},{default:s(()=>[o(T)]),_:1}),n(y)?(i(),v(e,{key:0,label:"每日推荐",name:"four"},{default:s(()=>[o(g,{data:n(p)},null,8,["data"])]),_:1})):R("",!0)]),_:1},8,["modelValue"])])])}}};export{Q as default};
