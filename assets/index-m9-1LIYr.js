import{d as C,a as y,t as P,u as b,r as w,q as k,o as L,s as c,x as M,_ as V,b as g,e as d,f as u,h as v,w as S,g as n,F as B,k as E,m as _}from"./index-Ccz55_AV.js";const I=C({__name:"index",setup(x,{expose:o}){o();const e=y({Playlist:[],CatList:[{name:"全部",label:"全部"}],currentCat:["全部"]}),{currentCat:s,CatList:p,Playlist:f}=P(e),r=b(),l=w([]);k(l,{initialPageNum:1,pageSize:10,threshold:.1},t),L(()=>{c({offset:1,cat:e.currentCat}).then(({playlists:a})=>{e.Playlist=a}),M().then(({sub:a})=>{e.CatList=e.CatList.concat(a)})});function t(a){c({offset:a+1,cat:e.currentCat}).then(({playlists:i})=>{e.Playlist=e.Playlist.concat(i)})}function m(a){e.Playlist=[],c({offset:1,cat:a.join()}).then(({playlists:i})=>{e.Playlist=i})}const h={state:e,currentCat:s,CatList:p,Playlist:f,router:r,observedElement:l,handleIntersect:t,catChange:m};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}}),N={class:"h-full w-full p-4"},j={class:"flex items-center"},z={class:"flex-1 pt-4 grid gap-4 grid-cols-[repeat(auto-fill,minmax(180px,1fr))]"},F=["onClick"],K={class:"p-2"},O={class:"font-medium text-sm line-clamp-1"},R={class:"flex items-center w-full gap-2 text-sm text-muted-foreground"},U={class:"text-xs line-clamp-1"};function q(x,o,e,s,p,f){const r=g("el-select-v2"),l=g("el-image");return d(),u("div",N,[v(r,{modelValue:s.currentCat,"onUpdate:modelValue":o[0]||(o[0]=t=>s.currentCat=t),filterable:"",options:s.CatList,style:{width:"240px"},multiple:"",clearable:"",props:{label:"name",value:"name"},onChange:s.catChange},{default:S(({item:t})=>[n("div",j,[n("span",null,_(t.name),1)])]),_:1},8,["modelValue","options"]),n("section",z,[(d(!0),u(B,null,E(s.Playlist,t=>(d(),u("div",{class:"group relative rounded-lg overflow-hidden cursor-pointer",key:t.id,ref_for:!0,ref:"observedElement",onClick:m=>s.router.push(`/songlist?id=${t.id}`)},[v(l,{src:t.coverImgUrl+"?param=260y260",lazy:"",class:"transition-opacity rounded-lg"},null,8,["src"]),n("div",K,[n("h3",O,_(t.name),1),n("div",R,[n("span",U,_(t.description),1)])])],8,F))),128))])])}const A=V(I,[["render",q],["__file","/home/runner/work/KM-Music-Player/KM-Music-Player/src/views/discover/songlist/index.vue"]]);export{A as default};
