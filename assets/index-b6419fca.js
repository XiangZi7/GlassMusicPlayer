import{u as B,r as k,t as b,b as i,c as u,f as a,F as D,h as T,e as o,i as g,v as q,o as w,K as L,L as U,a as j,g as R,d as c,w as h,k as N}from"./index-3dfa3ccf.js";import{_ as W}from"./musicTable-cd152787.js";import"./formatTime-3cb25965.js";const M={class:"content-section menuBar-mv"},O={class:"apps-card"},F=["onClick"],S={class:"app-card"},z=["src"],E={href:"javascript:;"},I={__name:"songList",props:{data:{type:Object,default:()=>[]}},setup(_){const l=_,t=B(),m=k({list:[],currentPage:1});return b(m),(p,d)=>(i(),u("div",null,[a("div",M,[a("div",O,[(i(!0),u(D,null,T(l.data,(s,r)=>(i(),u("div",{class:"apps-item",key:r,onClick:y=>o(t).push({path:"/playList",query:{id:s.id}})},[a("div",S,[a("img",{src:s.coverImgUrl+"?param=200y200",alt:""},null,8,z)]),a("a",E,g(s.name),1)],8,F))),128))])])]))}},K={class:"content-section menuBar-mv"},A={class:"apps-card"},G=["onClick"],H={class:"app-card m-mv"},J=["src"],Q={href:"javascript:;"},X={__name:"mv",props:{data:{type:Object,default:()=>[]}},setup(_){const l=_,t=B(),m=k({list:[]});b(m);const p=d=>{t.push({name:"mv",params:{id:d}})};return(d,s)=>(i(),u("div",null,[a("div",K,[a("div",A,[(i(!0),u(D,null,T(l.data,(r,y)=>(i(),u("div",{class:"apps-item mv-text",onClick:V=>p(r.id),key:y},[a("div",H,[a("img",{src:r.cover+"?param=370y220",alt:""},null,8,J)]),a("a",Q,g(r.name),1)],8,G))),128))])])]))}},Y={class:"content-section menuBar-mv"},Z={class:"apps-card"},tt=["onClick"],at={class:"app-card"},et=["src"],st={href:"javascript:;"},nt={__name:"artists",props:{data:{type:Object,default:()=>[]}},setup(_){const l=_,t=B(),m=k({list:[]});return b(m),(p,d)=>(i(),u("div",null,[a("div",Y,[a("div",Z,[(i(!0),u(D,null,T(l.data,(s,r)=>(i(),u("div",{class:"apps-item",key:r,onClick:y=>o(t).push({path:"/playList",query:{id:s.id}})},[a("div",at,[a("img",{src:s.picUrl+"?param=200y200",alt:""},null,8,et)]),a("a",st,g(s.name),1)],8,tt))),128))])])]))}},ot={class:"content-section menuBar-mv"},lt={class:"content-section-title"},rt={class:"content-section menuBar-mv"},ct={class:"flex",style:{"justify-content":"center","margin-top":"20px"}},pt={__name:"index",setup(_){const l=q(),t=k({list:[],activeName:"1",tableData:[],currentPage:1,songTotal:0,loading:!0}),{list:m,activeName:p,tableData:d,currentPage:s,songTotal:r,loading:y}=b(t),V=v=>{t.tableData=[],f(v.props.name)};w(()=>{f("1")}),L(()=>l.query.keyWorks,()=>{l.query.keyWorks&&f("1")});const f=async v=>{t.loading=!0;const{data:e}=await U({keywords:l.query.keyWorks,offset:(t.currentPage-1)*30,limit:30,type:v});switch(t.activeName){case"1":t.tableData=e.result.songs.map(n=>{const $=n.ar.map(C=>C.name).join(",");return{cover:n.al.picUrl,title:n.name,singer:$,album:n.al.name,time:n.dt,id:n.id,mv:n.mv}}),t.songTotal=e.result.songCount;break;case"1000":t.tableData=e.result.playlists,t.songTotal=e.result.playlistCount;break;case"1004":t.tableData=e.result.mvs,t.songTotal=e.result.mvCount;break;case"100":t.tableData=e.result.artists,t.songTotal=e.result.artistCount;break}t.loading=!1},P=v=>{f(t.activeName)};return(v,e)=>{const n=j("el-tab-pane"),$=j("el-tabs"),C=j("el-pagination");return i(),u("div",null,[a("div",ot,[a("div",lt,[a("h1",null,g(o(l).query.keyWorks),1),R(),a("span",null,g(o(r))+"个结果",1)]),a("div",rt,[c($,{modelValue:o(p),"onUpdate:modelValue":e[0]||(e[0]=x=>N(p)?p.value=x:null),class:"demo-tabs",onTabClick:V},{default:h(()=>[c(n,{label:"热门歌曲",name:"1"},{default:h(()=>[c(W,{data:o(d)},null,8,["data"])]),_:1}),c(n,{label:"歌单",name:"1000"},{default:h(()=>[c(I,{data:o(d)},null,8,["data"])]),_:1}),c(n,{label:"MV",name:"1004"},{default:h(()=>[c(X,{data:o(d)},null,8,["data"])]),_:1}),c(n,{label:"专辑",name:"100"},{default:h(()=>[c(nt,{data:o(d)},null,8,["data"])]),_:1})]),_:1},8,["modelValue"]),a("div",ct,[c(C,{onCurrentChange:P,currentPage:o(s),"onUpdate:currentPage":e[1]||(e[1]=x=>N(s)?s.value=x:null),"page-size":30,layout:"prev, pager, next, jumper",total:o(r)},null,8,["currentPage","total"])])])])])}}};export{pt as default};
