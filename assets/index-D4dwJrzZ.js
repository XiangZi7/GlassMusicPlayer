import{e as b,f as g,g as c,d as M,x as k,Y as C,u as T,Z as A,$ as B,_ as L,b as x,h as n,w as s,m as y,l as S,i as V,a0 as $,A as j}from"./index-BInQ2O41.js";const P={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},D=c("path",{fill:"currentColor",d:"M23.5 22H23v-2h.5a4.5 4.5 0 0 0 .36-9H23l-.1-.82a7 7 0 0 0-13.88 0L9 11h-.86a4.5 4.5 0 0 0 .36 9H9v2h-.5A6.5 6.5 0 0 1 7.2 9.14a9 9 0 0 1 17.6 0A6.5 6.5 0 0 1 23.5 22"},null,-1),w=c("path",{fill:"currentColor",d:"M17 26.17V14h-2v12.17l-2.59-2.58L11 25l5 5l5-5l-1.41-1.41z"},null,-1),F=[D,w];function H(u,r){return b(),g("svg",P,[...F])}const N={name:"carbon-cloud-download",render:H};function z(u){const r=Math.floor(u/1e3),m=Math.floor(r/3600),t=Math.floor((r-m*3600)/60),p=r%60;return[m,t,p].map(a=>a<10?`0${a}`:a.toString()).filter((a,f)=>a!=="00"||f>0).join(":")}const E=M({__name:"index",props:{modelValue:{type:Array},modelModifiers:{}},emits:["update:modelValue"],setup(u,{expose:r}){r();const m=k(u,"modelValue"),t=C(),p=T(),{playSong:a}=A("MusicPlayer"),_={tableData:m,AudioStore:t,router:p,playSong:a,playMusic:async l=>{const h=t.trackList.findIndex(o=>o.id===l.id);if(h===-1)try{const{data:o}=await B(l.id),e={id:l.id,title:l.name,singer:l.ar.map(i=>i.name).join(" / "),album:l.al.name,cover:l.al.picUrl,time:l.dt,source:o[0].url,mv:l.mv};t.addTrackAndPlay(e),a(e)}catch{}else{const o=t.trackList[h];t.addTrackAndPlay(o),a(o)}},downLoadMusic:l=>{},formatMillisecondsToTimes:l=>z(l)};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}}),I={class:"h-full w-full box-border flex flex-1 flex-col overflow-x-hidden overflow-auto"},K={class:"flex items-center gap-1"},R={class:"min-w-10 h-10"},U=["title"],O=["title"],Y=["title"],Z={class:"flex items-center"};function q(u,r,m,t,p,a){const f=x("el-image"),d=x("el-table-column"),v=$,_=x("el-button"),l=j,h=N,o=x("el-table");return b(),g("div",I,[n(o,{data:t.tableData,style:{width:"100%","--el-table-border":"none","--el-table-border-color":"none"},onRowDblclick:t.playMusic,class:"!text-xs !flex-1"},{default:s(()=>[n(d,{prop:"name",label:"歌名"},{default:s(({row:e})=>[c("div",K,[c("div",R,[n(f,{class:"w-full h-full rounded-lg",lazy:"",src:e.al.picUrl+"?param=90y90",alt:e.al.name},null,8,["src","alt"])]),c("span",{class:"line-clamp-1",title:e.name},y(e.name),9,U)])]),_:1}),n(d,{label:"歌手"},{default:s(({row:e})=>[c("span",{class:"line-clamp-1",title:e.ar.map(i=>i.name).join(" / ")},y(e.ar.map(i=>i.name).join(" / ")),9,O)]),_:1}),n(d,{prop:"al.name",label:"专辑"},{default:s(({row:e})=>[c("span",{class:"line-clamp-1",title:e.al.name},y(e.al.name),9,Y)]),_:1}),n(d,{label:"时间"},{default:s(({row:e})=>[c("span",null,y(t.formatMillisecondsToTimes(e.dt)),1)]),_:1}),n(d,{label:"",width:"180"},{default:s(({row:e})=>[c("div",Z,[n(_,{type:"primary",text:"",circle:"",onClick:i=>t.playMusic(e)},{default:s(()=>[n(v,{class:"text-lg text-gray-500"})]),_:2},1032,["onClick"]),e.mv&&e.mv!==0?(b(),S(_,{key:0,type:"primary",text:"",circle:"",onClick:i=>t.router.push(`/video?id=${e.mv}`)},{default:s(()=>[n(l,{class:"text-lg text-gray-500"})]),_:2},1032,["onClick"])):V("",!0),n(_,{type:"primary",text:"",circle:"",onClick:i=>t.downLoadMusic(e)},{default:s(()=>[n(h,{class:"text-lg text-gray-500"})]),_:2},1032,["onClick"])])]),_:1})]),_:1},8,["data"])])}const J=L(E,[["render",q],["__file","/home/runner/work/KM-Music-Player/KM-Music-Player/src/components/MusicList/index.vue"]]);export{J as _};
