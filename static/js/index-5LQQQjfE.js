import{d as M,T as b,o as n,c as _,F as x,j as w,a as u,f as d,k as y,q as N,_ as k,z as P,r as E,t as K,A as B,l as v,w as l,g as a,m as f,e as I,n as C,a5 as U}from"./index-HYKU3d2m.js";import{E as L,a as S}from"./el-tab-pane-TQvBFqCC.js";import{_ as q}from"./songSheet-jFL3YA1R.js";import"./strings-wVXnqxz4.js";const R={class:"playlist mt-2"},F={class:"cover"},j={class:"title"},z={class:"artist"},D=M({__name:"ASongList",props:{modelValue:{type:Array},modelModifiers:{}},emits:["update:modelValue"],setup(p){const c=b(p,"modelValue");return(t,i)=>{const o=N;return n(),_("div",R,[(n(!0),_(x,null,w(c.value,s=>(n(),_("div",{key:s.id,class:"song"},[u("div",F,[d(o,{src:s.coverImgUrl+"?param=450y450",alt:s.name},null,8,["src","alt"])]),u("div",j,y(s.name),1),u("div",z,y(s.creator.nickname),1)]))),128))])}}}),Q=k(D,[["__scopeId","data-v-a296107f"],["__file","/home/runner/work/KM-Music-Player/KM-Music-Player/src/pages/search/components/ASongList.vue"]]),G={class:"mvlist mt-2"},H={class:"cover"},J=["src"],O={class:"title"},W={class:"artist"},X=M({__name:"AMV",props:{modelValue:{type:Array},modelModifiers:{}},emits:["update:modelValue"],setup(p){const c=b(p,"modelValue");return(t,i)=>(n(),_("div",G,[(n(!0),_(x,null,w(c.value,o=>(n(),_("div",{key:o.id,class:"mv"},[u("div",H,[u("img",{src:o.cover+"?param=500y250",alt:"mv 1 Title"},null,8,J)]),u("div",O,y(o.name),1),u("div",W,y(o.artistName),1)]))),128))]))}}),Y=k(X,[["__scopeId","data-v-7428fe7b"],["__file","/home/runner/work/KM-Music-Player/KM-Music-Player/src/pages/search/components/AMV.vue"]]),Z=u("label",null,"歌曲",-1),ee=u("label",null,"歌单",-1),oe=u("label",null,"MV",-1),ae=M({__name:"index",setup(p){const c=P(),t=E({activeName:"1",list:[],songTotal:{songCount:0,playlistCount:0,mvCount:0}}),{songTotal:i,list:o,activeName:s}=K(t);function g(V){I({kw:c.query.kw,type:t.activeName,offset:V}).then(({result:e})=>{if(e){const m=e.songs||e.playlists||e.mvs||[];t.list=V?t.list.concat(m):t.list=m,e.songCount!==void 0&&(t.songTotal.songCount=e.songCount),e.playlistCount!==void 0&&(t.songTotal.playlistCount=e.playlistCount),e.mvCount!==void 0&&(t.songTotal.mvCount=e.mvCount)}else console.error("result is undefined. Cannot proceed.")}).catch(e=>{console.error("An error occurred:",e)})}function A(){t.list=[],g()}return B(()=>c.query.kw,()=>{t.list=[],g()},{immediate:!0}),(V,e)=>{const m=U,T=q,h=S,$=L;return n(),v($,{modelValue:a(s),"onUpdate:modelValue":e[3]||(e[3]=r=>f(s)?s.value=r:null),onTabClick:A},{default:l(()=>[d(h,{name:"1"},{label:l(()=>[d(m,{hidden:a(i).songCount==0,value:a(i).songCount,max:99,type:"primary"},{default:l(()=>[Z]),_:1},8,["hidden","value"])]),default:l(()=>[a(s)=="1"?(n(),v(T,{key:0,modelValue:a(o),"onUpdate:modelValue":e[0]||(e[0]=r=>f(o)?o.value=r:null),onQuery:g},null,8,["modelValue"])):C("",!0)]),_:1}),d(h,{name:"1000"},{label:l(()=>[d(m,{hidden:a(i).playlistCount==0,value:a(i).playlistCount,max:99,type:"primary"},{default:l(()=>[ee]),_:1},8,["hidden","value"])]),default:l(()=>[a(s)=="1000"?(n(),v(Q,{key:0,modelValue:a(o),"onUpdate:modelValue":e[1]||(e[1]=r=>f(o)?o.value=r:null)},null,8,["modelValue"])):C("",!0)]),_:1}),d(h,{name:"1004"},{label:l(()=>[d(m,{hidden:a(i).mvCount==0,value:a(i).mvCount,max:99,type:"primary"},{default:l(()=>[oe]),_:1},8,["hidden","value"])]),default:l(()=>[a(s)=="1004"?(n(),v(Y,{key:0,modelValue:a(o),"onUpdate:modelValue":e[2]||(e[2]=r=>f(o)?o.value=r:null)},null,8,["modelValue"])):C("",!0)]),_:1})]),_:1},8,["modelValue"])}}}),ue=k(ae,[["__file","/home/runner/work/KM-Music-Player/KM-Music-Player/src/pages/search/index.vue"]]);export{ue as default};
