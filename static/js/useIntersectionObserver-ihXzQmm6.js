import{L as E,bc as L,ak as m}from"./index-8YRotkxf.js";function h(c,{threshold:v=.1,root:f=null,rootMargin:d="0px",pageSize:i,initialPageNum:o},p){const a=E(o!=null?o:1),t=new Map,r=new IntersectionObserver((n,l)=>{n.forEach(s=>{const e=s.target;s.isIntersecting&&(e.classList.remove("opaque"),e.classList.add("come-in"),t.get(e)&&(p(a.value,i),a.value++,l.unobserve(e)))})},{threshold:v,root:f,rootMargin:d});return L(()=>{r.disconnect(),t.clear();const n=Array.isArray(c.value)?c.value:[c.value],l=n.length-1;n.forEach((s,e)=>{if(s){s.classList.add("opaque"),r.observe(s);const u=e===l;t.set(s,u)}})}),m(()=>{r.disconnect(),t.clear()}),{pageNum:a}}export{h as u};
