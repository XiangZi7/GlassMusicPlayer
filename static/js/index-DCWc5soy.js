import{e as a,f as e,h as l,d as t,v as o,a3 as r,u as s,a8 as n,a9 as i,_ as c,b as d,i as u,w as m,m as p,l as f,j as y,aa as x,z as b}from"./index-C94ym50H.js";const h={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};const v={name:"carbon-cloud-download",render:function(t,o){return a(),e("svg",h,o[0]||(o[0]=[l("path",{fill:"currentColor",d:"M23.5 22H23v-2h.5a4.5 4.5 0 0 0 .36-9H23l-.1-.82a7 7 0 0 0-13.88 0L9 11h-.86a4.5 4.5 0 0 0 .36 9H9v2h-.5A6.5 6.5 0 0 1 7.2 9.14a9 9 0 0 1 17.6 0A6.5 6.5 0 0 1 23.5 22"},null,-1),l("path",{fill:"currentColor",d:"M17 26.17V14h-2v12.17l-2.59-2.58L11 25l5 5l5-5l-1.41-1.41z"},null,-1)]))}};const w={class:"h-full w-full box-border flex flex-1 flex-col overflow-x-hidden overflow-auto"},M={class:"flex items-center gap-1"},_={class:"min-w-10 h-10"},g=["title"],k=["title"],C=["title"],j={class:"flex items-center"};const L=c(t({__name:"index",props:{modelValue:{type:Array},modelModifiers:{}},emits:["update:modelValue"],setup(a,{expose:e}){e();const l=o(a,"modelValue"),t=r(),c=s(),{playSong:d}=n("MusicPlayer"),u={tableData:l,AudioStore:t,router:c,playSong:d,playMusic:async a=>{const e=t.trackList.findIndex((e=>e.id===a.id));if(-1===e)try{const{data:e}=await i(a.id),l={id:a.id,title:a.name,singer:a.ar.map((a=>a.name)).join(" / "),album:a.al.name,cover:a.al.picUrl,time:a.dt,source:e[0].url,mv:a.mv};t.addTrackAndPlay(l),d(l)}catch(l){}else{const a=t.trackList[e];t.addTrackAndPlay(a),d(a)}},downLoadMusic:a=>{},formatMillisecondsToTimes:a=>function(a){const e=Math.floor(a/1e3),l=Math.floor(e/3600);return[l,Math.floor((e-3600*l)/60),e%60].map((a=>a<10?`0${a}`:a.toString())).filter(((a,e)=>"00"!==a||e>0)).join(":")}(a)};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}}),[["render",function(t,o,r,s,n,i){const c=d("el-image"),h=d("el-table-column"),L=x,A=d("el-button"),P=b,S=v,T=d("el-table");return a(),e("div",w,[u(T,{data:s.tableData,style:{width:"100%","--el-table-border":"none","--el-table-border-color":"none"},onRowDblclick:s.playMusic,class:"!text-xs !flex-1"},{default:m((()=>[u(h,{prop:"name",label:"歌名"},{default:m((({row:a})=>[l("div",M,[l("div",_,[u(c,{class:"w-full h-full rounded-lg",lazy:"",src:a.al.picUrl+"?param=90y90",alt:a.al.name},null,8,["src","alt"])]),l("span",{class:"line-clamp-1",title:a.name},p(a.name),9,g)])])),_:1}),u(h,{label:"歌手"},{default:m((({row:a})=>[l("span",{class:"line-clamp-1",title:a.ar.map((a=>a.name)).join(" / ")},p(a.ar.map((a=>a.name)).join(" / ")),9,k)])),_:1}),u(h,{prop:"al.name",label:"专辑"},{default:m((({row:a})=>[l("span",{class:"line-clamp-1",title:a.al.name},p(a.al.name),9,C)])),_:1}),u(h,{label:"时间"},{default:m((({row:a})=>[l("span",null,p(s.formatMillisecondsToTimes(a.dt)),1)])),_:1}),u(h,{label:"",width:"180"},{default:m((({row:e})=>[l("div",j,[u(A,{type:"primary",text:"",circle:"",onClick:a=>s.playMusic(e)},{default:m((()=>[u(L,{class:"text-lg text-gray-500"})])),_:2},1032,["onClick"]),e.mv&&0!==e.mv?(a(),f(A,{key:0,type:"primary",text:"",circle:"",onClick:a=>s.router.push(`/video?id=${e.mv}`)},{default:m((()=>[u(P,{class:"text-lg text-gray-500"})])),_:2},1032,["onClick"])):y("",!0),u(A,{type:"primary",text:"",circle:"",onClick:a=>s.downLoadMusic(e)},{default:m((()=>[u(S,{class:"text-lg text-gray-500"})])),_:2},1032,["onClick"])])])),_:1})])),_:1},8,["data"])])}],["__file","/home/runner/work/KMMusicPlayer/KMMusicPlayer/src/components/MusicList/index.vue"]]);export{L as _};
