import{_ as w}from"./songSheet-4dzRsQaG.js";import{d as A,bm as N,z as U,r as D,t as I,A as L,k as t,c as _,a as e,$ as P,j as i,f as B,F as T,i as z,w as F,l as K,n as M,bn as O,bo as R,C as $,bp as q,o as d,g as G,_ as H}from"./index-8YRotkxf.js";import"./useIntersectionObserver-ihXzQmm6.js";const J={key:0,class:"playlist"},Q={class:"flex mb-3"},W={class:"playlist-info"},X={class:"author"},Y={class:"author-name"},Z={class:"playlist-description"},ss={class:"tags"},ts={class:"Button-group mt-3"},as=A({__name:"[id]",setup(es){const C=N(),E=U(),l=D({playlists:void 0}),{playlists:s}=I(l);L(()=>E.params.id,o=>{l.playlists=void 0,q(o).then(({playlist:n})=>{l.playlists=n})},{immediate:!0});function m(o){return o instanceof Object?Object.keys(o).length>0:!1}function S(){if(!l.playlists||!l.playlists.tracks)return;let o=l.playlists.tracks.map(c=>c.id).join(),n=[];O(o).then(({data:c})=>{l.playlists.tracks.forEach(a=>{let u=c.find(r=>a.id===r.id);n.push({id:a.id,title:a.name,singer:a.ar.map(r=>r.name).join(),album:a.al.name,cover:a.al.picUrl,source:u.url,time:a.dt,mv:a.mv})}),C.addTrackAndPlay(n)})}return(o,n)=>{var r,y,f,h,k,v,g,b,V,x;const c=R,a=$,u=w;return m(t(s))?(d(),_("div",J,[e("div",Q,[e("div",{class:"playlist-cover yx-col-6",style:P({backgroundImage:`url(${((r=t(s))==null?void 0:r.coverImgUrl)+"?param=500y500"})`})},null,4),e("div",W,[e("h2",null,i((y=t(s))==null?void 0:y.name),1),e("div",X,[B(c,{class:"mr-2",src:((h=(f=t(s))==null?void 0:f.creator)==null?void 0:h.avatarUrl)+"?param=60y60",alt:(v=(k=t(s))==null?void 0:k.creator)==null?void 0:v.nickname},null,8,["src","alt"]),e("span",Y,i((b=(g=t(s))==null?void 0:g.creator)==null?void 0:b.nickname),1)]),e("p",Z,i((V=t(s))==null?void 0:V.description),1),e("ul",ss,[(d(!0),_(T,null,z((x=t(s))==null?void 0:x.tags,(p,j)=>(d(),_("li",{key:j},i(p)+">钢琴 ",1))),128))]),e("div",ts,[B(a,{type:"primary",onClick:S},{default:F(()=>[G("播放全部")]),_:1})])])]),m(t(s))?(d(),K(u,{key:0,modelValue:t(s).tracks,"onUpdate:modelValue":n[0]||(n[0]=p=>t(s).tracks=p)},null,8,["modelValue"])):M("",!0)])):M("",!0)}}}),rs=H(as,[["__scopeId","data-v-898ab488"],["__file","/home/runner/work/KM-Music-Player/KM-Music-Player/src/pages/songList/songListDetails/[id].vue"]]);export{rs as default};
