import{s as g,a as x}from"./element-plus-kQyFuzXp.js";import"./vue-OG_h3pua.js";import{t as r,p as P,_ as b}from"./index-dZjLSCIw.js";import{u as L}from"./vue-router-w9G4URzI.js";import{u as k}from"./useIntersectionObserver-P1fADLvi.js";import{d as V,r as E,$ as I,af as M,g as w,c as i,a as o,e as p,V as B,u as n,G as N,U as R,a6 as S,o as c,Y as u}from"./@vue-Ply1w2vD.js";import"./@element-plus-myGFqmAE.js";import"./@vueuse-O23BbR0F.js";import"./lodash-es-DA4vajO2.js";import"./@ctrl--dareiTT.js";import"./@popperjs-NiN61gaS.js";import"./memoize-one-JaOscZgY.js";import"./pinia-MSClEXYU.js";import"./axios-52F-EHG1.js";import"./nprogress-8aEWLQce.js";import"./@babel-3yCADe9Y.js";import"./pinia-plugin-persistedstate-XbYvz584.js";const U={class:"mt-2 mb-2"},$={class:"flex items-center"},z={class:"playlist-container"},D=["onClick"],K={class:"text-xs mt-2 textov"},j=V({__name:"index",setup(F){const m=E([]),d=L();k(m,{initialPageNum:1,pageSize:10,threshold:.1},_);function _(e){r({offset:e,cat:t.currentCat}).then(({playlists:a})=>{t.Playlist=t.Playlist.concat(a)})}const t=I({Playlist:[],CatList:[{name:"全部",label:"全部"}],currentCat:["全部"]}),{currentCat:l,CatList:f,Playlist:y}=M(t);w(()=>{r({offset:1,cat:t.currentCat}).then(({playlists:e})=>{t.Playlist=e}),P().then(({sub:e})=>{t.CatList=t.CatList.concat(e)})});function h(e){t.Playlist=[],r({offset:1,cat:e.join()}).then(({playlists:a})=>{t.Playlist=a})}return(e,a)=>{const v=g,C=x;return c(),i("div",null,[o("div",U,[p(v,{modelValue:n(l),"onUpdate:modelValue":a[0]||(a[0]=s=>N(l)?l.value=s:null),filterable:"",options:n(f),style:{width:"240px"},multiple:"",clearable:"",props:{label:"name",value:"name"},onChange:h},{default:B(({item:s})=>[o("div",$,[o("span",null,u(s.name),1)])]),_:1},8,["modelValue","options"])]),o("div",z,[(c(!0),i(R,null,S(n(y),s=>(c(),i("div",{key:s.id,ref_for:!0,ref_key:"observedElement",ref:m,class:"playlist-item",onClick:G=>n(d).push({path:`/songList/songListDetails/${s.id}`})},[p(C,{lazy:"",src:s.coverImgUrl+"?param=350y350",class:"rounded"},null,8,["src"]),o("div",K,u(s.name),1)],8,D))),128))])])}}}),lt=b(j,[["__scopeId","data-v-b2d3b8d0"],["__file","/home/runner/work/KM-Music-Player/KM-Music-Player/src/pages/songList/index.vue"]]);export{lt as default};
