import{d as y,z as w,r as I,t as S,L,bj as N,A as E,c as d,a as s,g as c,k as e,F as h,j as M,n as V,p as j,i as B,bS as g,bT as P,bU as R,o as i,f as v,h as A,a3 as C,bo as D,_ as U}from"./index-WSe0krzn.js";const z=r=>(j("data-v-99f4d33a"),r=r(),B(),r),F={class:"rounded-lg border bg-card text-card-foreground shadow-sm w-full grid gap-0","data-v0-t":"card"},K={class:"w-full"},T=["src"],O={class:"grid gap-6 p-2"},q={class:"grid gap-2"},G={class:"text-3xl font-bold tracking-tight"},H={class:"text-gray-500 dark:text-gray-400"},J=z(()=>s("div",{class:"grid gap-2"},[s("h2",{class:"text-xl font-semibold tracking-tight"},"Introduction"),s("p",null,' "Lemon" is a song by American band N.E.R.D and Barbadian singer Rihanna. It was released on November 1, 2017. ')],-1)),Q={key:0,class:"grid gap-2"},W={class:"text-xl font-semibold tracking-tight"},X={class:"grid gap-5"},Y={class:"flex items-center gap-4"},Z={class:"relative flex shrink-0 overflow-hidden rounded-full w-10 h-10 border"},$={class:"grid gap-1.5"},ss={class:"font-semibold"},ts={class:"text-gray-500 text-xs dark:text-gray-400"},es={class:"flex justify-between text-xs"},as={class:"flex items-center gap-1"},os=y({__name:"[id]",setup(r){const l=w(),a=I({mvSrc:"",mvInfo:{},commentsList:{comments:[],total:0}}),{commentsList:_,mvSrc:f,mvInfo:m}=S(a),u=L([]);N(u,{initialPageNum:2,pageSize:10,threshold:.1},x);function x(o){g({offset:o,id:l.params.id}).then(({comments:n})=>{a.commentsList.comments=a.commentsList.comments.concat(n)})}return E(()=>l.params.id,()=>{const o=l.params.id;Promise.all([P(o),R(o),g({id:o})]).then(n=>{a.mvSrc=n[0].data.url,a.mvInfo=n[1].data,a.commentsList=n[2]})},{immediate:!0}),(o,n)=>{var p;const b=C,k=D;return i(),d(h,null,[s("div",F,[s("div",K,[s("video",{class:"w-full rounded-xl",src:c(f),controls:""},null,8,T)])]),s("div",O,[s("div",q,[s("h1",G,e(c(m).name),1),s("p",H,e((p=c(m).artists)==null?void 0:p.map(t=>t.name).join(" / ")),1)]),J,c(_).comments.length>0?(i(),d("div",Q,[s("h2",W," 评论 ("+e(c(_).total)+") ",1),s("div",X,[(i(!0),d(h,null,M(c(_).comments,t=>(i(),d("div",{key:t.id,ref_for:!0,ref_key:"observedElement",ref:u,class:"grid gap-2 bg-white rounded-xl shadow p-4"},[s("div",Y,[s("span",Z,[v(b,{src:t.user.avatarUrl+"?param=60y60",alt:t.user.nickname},null,8,["src","alt"])]),s("div",$,[s("div",ss,e(t.user.nickname),1),s("div",ts,e(t.timeStr),1)])]),s("div",null,e(t.content),1),s("div",es,[s("div",as,[v(k,{class:"text-red-400"}),A(" "+e(t.likedCount),1)]),s("div",null,e(t.ipLocation.location),1)])]))),128))])])):V("",!0)])],64)}}}),cs=U(os,[["__scopeId","data-v-99f4d33a"],["__file","/home/runner/work/KM-Music-Player/KM-Music-Player/src/pages/video/[id].vue"]]);export{cs as default};
