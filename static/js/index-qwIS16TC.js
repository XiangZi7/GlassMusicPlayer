var it=Object.defineProperty,ct=Object.defineProperties;var ut=Object.getOwnPropertyDescriptors;var Ne=Object.getOwnPropertySymbols;var dt=Object.prototype.hasOwnProperty,ht=Object.prototype.propertyIsEnumerable;var Fe=(e,n,o)=>n in e?it(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,se=(e,n)=>{for(var o in n||(n={}))dt.call(n,o)&&Fe(e,o,n[o]);if(Ne)for(var o of Ne(n))ht.call(n,o)&&Fe(e,o,n[o]);return e},le=(e,n)=>ct(e,ut(n));var re=(e,n,o)=>new Promise((t,l)=>{var a=r=>{try{c(o.next(r))}catch(u){l(u)}},s=r=>{try{c(o.throw(r))}catch(u){l(u)}},c=r=>r.done?t(r.value):Promise.resolve(r.value).then(a,s);c((o=o.apply(e,n)).next())});import{ad as Ue,av as je,ac as ft,J as Ae,ag as X,L as C,b as Y,A as I,K as S,bw as Te,bx as ge,as as ne,d as D,o as M,c as N,a as m,O as k,g as i,al as V,an as G,aI as vt,a_ as me,aB as ie,by as ce,a$ as pt,aD as Ie,aK as mt,aY as bt,F as qe,j as Xe,aP as gt,aQ as _t,af as kt,bz as Ct,aR as $t,aS as yt,r as wt,aW as Et,aC as O,b1 as Mt,l as ue,w as B,y as Pe,f as F,n as de,bA as St,C as Le,k as te,h as Ve,s as Z,ak as He,aU as Nt,b4 as De,ai as Ft,b0 as At,aX as Be,aO as he,ao as Tt,aq as It,aE as Pt,bB as Lt,bC as Oe,bD as Vt,_ as Ht,bE as Dt,bF as Ke,bG as Bt,m as Ot,p as Kt,i as xt}from"./index-NJTJORJk.js";import{E as Rt}from"./el-switch-JEkhaAHv.js";import{C as Wt}from"./index-4WmLX743.js";const zt=Ue({color:{type:je(Object),required:!0},vertical:{type:Boolean,default:!1}});let fe=!1;function q(e,n){if(!ft)return;const o=function(a){var s;(s=n.drag)==null||s.call(n,a)},t=function(a){var s;document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",t),document.removeEventListener("touchmove",o),document.removeEventListener("touchend",t),document.onselectstart=null,document.ondragstart=null,fe=!1,(s=n.end)==null||s.call(n,a)},l=function(a){var s;fe||(a.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",o),document.addEventListener("mouseup",t),document.addEventListener("touchmove",o),document.addEventListener("touchend",t),fe=!0,(s=n.start)==null||s.call(n,a))};e.addEventListener("mousedown",l),e.addEventListener("touchstart",l)}const Ut=e=>{const n=ne(),o=Ae(),t=Ae();function l(s){s.target!==o.value&&a(s)}function a(s){if(!t.value||!o.value)return;const r=n.vnode.el.getBoundingClientRect(),{clientX:u,clientY:p}=ge(s);if(e.vertical){let d=p-r.top;d=Math.max(o.value.offsetHeight/2,d),d=Math.min(d,r.height-o.value.offsetHeight/2),e.color.set("alpha",Math.round((d-o.value.offsetHeight/2)/(r.height-o.value.offsetHeight)*100))}else{let d=u-r.left;d=Math.max(o.value.offsetWidth/2,d),d=Math.min(d,r.width-o.value.offsetWidth/2),e.color.set("alpha",Math.round((d-o.value.offsetWidth/2)/(r.width-o.value.offsetWidth)*100))}}return{thumb:o,bar:t,handleDrag:a,handleClick:l}},jt=(e,{bar:n,thumb:o,handleDrag:t})=>{const l=ne(),a=X("color-alpha-slider"),s=C(0),c=C(0),r=C();function u(){if(!o.value||e.vertical)return 0;const w=l.vnode.el,_=e.color.get("alpha");return w?Math.round(_*(w.offsetWidth-o.value.offsetWidth/2)/100):0}function p(){if(!o.value)return 0;const w=l.vnode.el;if(!e.vertical)return 0;const _=e.color.get("alpha");return w?Math.round(_*(w.offsetHeight-o.value.offsetHeight/2)/100):0}function d(){if(e.color&&e.color.value){const{r:w,g:_,b:J}=e.color.toRgb();return`linear-gradient(to right, rgba(${w}, ${_}, ${J}, 0) 0%, rgba(${w}, ${_}, ${J}, 1) 100%)`}return""}function b(){s.value=u(),c.value=p(),r.value=d()}Y(()=>{if(!n.value||!o.value)return;const w={drag:_=>{t(_)},end:_=>{t(_)}};q(n.value,w),q(o.value,w),b()}),I(()=>e.color.get("alpha"),()=>b()),I(()=>e.color.value,()=>b());const f=S(()=>[a.b(),a.is("vertical",e.vertical)]),v=S(()=>a.e("bar")),g=S(()=>a.e("thumb")),$=S(()=>({background:r.value})),P=S(()=>({left:Te(s.value),top:Te(c.value)}));return{rootKls:f,barKls:v,barStyle:$,thumbKls:g,thumbStyle:P,update:b}},qt="ElColorAlphaSlider",Xt=D({name:qt}),Yt=D(le(se({},Xt),{props:zt,setup(e,{expose:n}){const o=e,{bar:t,thumb:l,handleDrag:a,handleClick:s}=Ut(o),{rootKls:c,barKls:r,barStyle:u,thumbKls:p,thumbStyle:d,update:b}=jt(o,{bar:t,thumb:l,handleDrag:a});return n({update:b,bar:t,thumb:l}),(f,v)=>(M(),N("div",{class:k(i(c))},[m("div",{ref_key:"bar",ref:t,class:k(i(r)),style:V(i(u)),onClick:v[0]||(v[0]=(...g)=>i(s)&&i(s)(...g))},null,6),m("div",{ref_key:"thumb",ref:l,class:k(i(p)),style:V(i(d))},null,6)],2))}}));var Gt=G(Yt,[["__file","alpha-slider.vue"]]);const Jt=D({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(e){const n=X("color-hue-slider"),o=ne(),t=C(),l=C(),a=C(0),s=C(0),c=S(()=>e.color.get("hue"));I(()=>c.value,()=>{b()});function r(f){f.target!==t.value&&u(f)}function u(f){if(!l.value||!t.value)return;const g=o.vnode.el.getBoundingClientRect(),{clientX:$,clientY:P}=ge(f);let w;if(e.vertical){let _=P-g.top;_=Math.min(_,g.height-t.value.offsetHeight/2),_=Math.max(t.value.offsetHeight/2,_),w=Math.round((_-t.value.offsetHeight/2)/(g.height-t.value.offsetHeight)*360)}else{let _=$-g.left;_=Math.min(_,g.width-t.value.offsetWidth/2),_=Math.max(t.value.offsetWidth/2,_),w=Math.round((_-t.value.offsetWidth/2)/(g.width-t.value.offsetWidth)*360)}e.color.set("hue",w)}function p(){if(!t.value)return 0;const f=o.vnode.el;if(e.vertical)return 0;const v=e.color.get("hue");return f?Math.round(v*(f.offsetWidth-t.value.offsetWidth/2)/360):0}function d(){if(!t.value)return 0;const f=o.vnode.el;if(!e.vertical)return 0;const v=e.color.get("hue");return f?Math.round(v*(f.offsetHeight-t.value.offsetHeight/2)/360):0}function b(){a.value=p(),s.value=d()}return Y(()=>{if(!l.value||!t.value)return;const f={drag:v=>{u(v)},end:v=>{u(v)}};q(l.value,f),q(t.value,f),b()}),{bar:l,thumb:t,thumbLeft:a,thumbTop:s,hueValue:c,handleClick:r,update:b,ns:n}}});function Qt(e,n,o,t,l,a){return M(),N("div",{class:k([e.ns.b(),e.ns.is("vertical",e.vertical)])},[m("div",{ref:"bar",class:k(e.ns.e("bar")),onClick:n[0]||(n[0]=(...s)=>e.handleClick&&e.handleClick(...s))},null,2),m("div",{ref:"thumb",class:k(e.ns.e("thumb")),style:V({left:e.thumbLeft+"px",top:e.thumbTop+"px"})},null,6)],2)}var Zt=G(Jt,[["render",Qt],["__file","hue-slider.vue"]]);const en=Ue({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:vt,popperClass:{type:String,default:""},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},predefine:{type:je(Array)},validateEvent:{type:Boolean,default:!0}}),tn={[me]:e=>ie(e)||ce(e),[pt]:e=>ie(e)||ce(e),activeChange:e=>ie(e)||ce(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent},Ye=Symbol("colorPickerContextKey"),xe=function(e,n,o){return[e,n*o/((e=(2-n)*o)<1?e:2-e)||0,e/2]},nn=function(e){return typeof e=="string"&&e.includes(".")&&Number.parseFloat(e)===1},on=function(e){return typeof e=="string"&&e.includes("%")},K=function(e,n){nn(e)&&(e="100%");const o=on(e);return e=Math.min(n,Math.max(0,Number.parseFloat(`${e}`))),o&&(e=Number.parseInt(`${e*n}`,10)/100),Math.abs(e-n)<1e-6?1:e%n/Number.parseFloat(n)},Re={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},ee=e=>{e=Math.min(Math.round(e),255);const n=Math.floor(e/16),o=e%16;return`${Re[n]||n}${Re[o]||o}`},We=function({r:e,g:n,b:o}){return Number.isNaN(+e)||Number.isNaN(+n)||Number.isNaN(+o)?"":`#${ee(e)}${ee(n)}${ee(o)}`},ve={A:10,B:11,C:12,D:13,E:14,F:15},H=function(e){return e.length===2?(ve[e[0].toUpperCase()]||+e[0])*16+(ve[e[1].toUpperCase()]||+e[1]):ve[e[1].toUpperCase()]||+e[1]},an=function(e,n,o){n=n/100,o=o/100;let t=n;const l=Math.max(o,.01);o*=2,n*=o<=1?o:2-o,t*=l<=1?l:2-l;const a=(o+n)/2,s=o===0?2*t/(l+t):2*n/(o+n);return{h:e,s:s*100,v:a*100}},ze=(e,n,o)=>{e=K(e,255),n=K(n,255),o=K(o,255);const t=Math.max(e,n,o),l=Math.min(e,n,o);let a;const s=t,c=t-l,r=t===0?0:c/t;if(t===l)a=0;else{switch(t){case e:{a=(n-o)/c+(n<o?6:0);break}case n:{a=(o-e)/c+2;break}case o:{a=(e-n)/c+4;break}}a/=6}return{h:a*360,s:r*100,v:s*100}},U=function(e,n,o){e=K(e,360)*6,n=K(n,100),o=K(o,100);const t=Math.floor(e),l=e-t,a=o*(1-n),s=o*(1-l*n),c=o*(1-(1-l)*n),r=t%6,u=[o,s,a,a,c,o][r],p=[c,o,o,s,a,a][r],d=[a,a,c,o,o,s][r];return{r:Math.round(u*255),g:Math.round(p*255),b:Math.round(d*255)}};class j{constructor(n={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const o in n)Ie(n,o)&&(this[o]=n[o]);n.value?this.fromString(n.value):this.doOnChange()}set(n,o){if(arguments.length===1&&typeof n=="object"){for(const t in n)Ie(n,t)&&this.set(t,n[t]);return}this[`_${n}`]=o,this.doOnChange()}get(n){return n==="alpha"?Math.floor(this[`_${n}`]):this[`_${n}`]}toRgb(){return U(this._hue,this._saturation,this._value)}fromString(n){if(!n){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const o=(t,l,a)=>{this._hue=Math.max(0,Math.min(360,t)),this._saturation=Math.max(0,Math.min(100,l)),this._value=Math.max(0,Math.min(100,a)),this.doOnChange()};if(n.includes("hsl")){const t=n.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(l=>l!=="").map((l,a)=>a>2?Number.parseFloat(l):Number.parseInt(l,10));if(t.length===4?this._alpha=Number.parseFloat(t[3])*100:t.length===3&&(this._alpha=100),t.length>=3){const{h:l,s:a,v:s}=an(t[0],t[1],t[2]);o(l,a,s)}}else if(n.includes("hsv")){const t=n.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(l=>l!=="").map((l,a)=>a>2?Number.parseFloat(l):Number.parseInt(l,10));t.length===4?this._alpha=Number.parseFloat(t[3])*100:t.length===3&&(this._alpha=100),t.length>=3&&o(t[0],t[1],t[2])}else if(n.includes("rgb")){const t=n.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(l=>l!=="").map((l,a)=>a>2?Number.parseFloat(l):Number.parseInt(l,10));if(t.length===4?this._alpha=Number.parseFloat(t[3])*100:t.length===3&&(this._alpha=100),t.length>=3){const{h:l,s:a,v:s}=ze(t[0],t[1],t[2]);o(l,a,s)}}else if(n.includes("#")){const t=n.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(t))return;let l,a,s;t.length===3?(l=H(t[0]+t[0]),a=H(t[1]+t[1]),s=H(t[2]+t[2])):(t.length===6||t.length===8)&&(l=H(t.slice(0,2)),a=H(t.slice(2,4)),s=H(t.slice(4,6))),t.length===8?this._alpha=H(t.slice(6))/255*100:(t.length===3||t.length===6)&&(this._alpha=100);const{h:c,s:r,v:u}=ze(l,a,s);o(c,r,u)}}compare(n){return Math.abs(n._hue-this._hue)<2&&Math.abs(n._saturation-this._saturation)<1&&Math.abs(n._value-this._value)<1&&Math.abs(n._alpha-this._alpha)<1}doOnChange(){const{_hue:n,_saturation:o,_value:t,_alpha:l,format:a}=this;if(this.enableAlpha)switch(a){case"hsl":{const s=xe(n,o/100,t/100);this.value=`hsla(${n}, ${Math.round(s[1]*100)}%, ${Math.round(s[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${n}, ${Math.round(o)}%, ${Math.round(t)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${We(U(n,o,t))}${ee(l*255/100)}`;break}default:{const{r:s,g:c,b:r}=U(n,o,t);this.value=`rgba(${s}, ${c}, ${r}, ${this.get("alpha")/100})`}}else switch(a){case"hsl":{const s=xe(n,o/100,t/100);this.value=`hsl(${n}, ${Math.round(s[1]*100)}%, ${Math.round(s[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${n}, ${Math.round(o)}%, ${Math.round(t)}%)`;break}case"rgb":{const{r:s,g:c,b:r}=U(n,o,t);this.value=`rgb(${s}, ${c}, ${r})`;break}default:this.value=We(U(n,o,t))}}}const sn=D({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(e){const n=X("color-predefine"),{currentColor:o}=mt(Ye),t=C(a(e.colors,e.color));I(()=>o.value,s=>{const c=new j;c.fromString(s),t.value.forEach(r=>{r.selected=c.compare(r)})}),bt(()=>{t.value=a(e.colors,e.color)});function l(s){e.color.fromString(e.colors[s])}function a(s,c){return s.map(r=>{const u=new j;return u.enableAlpha=!0,u.format="rgba",u.fromString(r),u.selected=u.value===c.value,u})}return{rgbaColors:t,handleSelect:l,ns:n}}}),ln=["onClick"];function rn(e,n,o,t,l,a){return M(),N("div",{class:k(e.ns.b())},[m("div",{class:k(e.ns.e("colors"))},[(M(!0),N(qe,null,Xe(e.rgbaColors,(s,c)=>(M(),N("div",{key:e.colors[c],class:k([e.ns.e("color-selector"),e.ns.is("alpha",s._alpha<100),{selected:s.selected}]),onClick:r=>e.handleSelect(c)},[m("div",{style:V({backgroundColor:s.value})},null,4)],10,ln))),128))],2)],2)}var cn=G(sn,[["render",rn],["__file","predefine.vue"]]);const un=D({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(e){const n=X("color-svpanel"),o=ne(),t=C(0),l=C(0),a=C("hsl(0, 100%, 50%)"),s=S(()=>{const u=e.color.get("hue"),p=e.color.get("value");return{hue:u,value:p}});function c(){const u=e.color.get("saturation"),p=e.color.get("value"),d=o.vnode.el,{clientWidth:b,clientHeight:f}=d;l.value=u*b/100,t.value=(100-p)*f/100,a.value=`hsl(${e.color.get("hue")}, 100%, 50%)`}function r(u){const d=o.vnode.el.getBoundingClientRect(),{clientX:b,clientY:f}=ge(u);let v=b-d.left,g=f-d.top;v=Math.max(0,v),v=Math.min(v,d.width),g=Math.max(0,g),g=Math.min(g,d.height),l.value=v,t.value=g,e.color.set({saturation:v/d.width*100,value:100-g/d.height*100})}return I(()=>s.value,()=>{c()}),Y(()=>{q(o.vnode.el,{drag:u=>{r(u)},end:u=>{r(u)}}),c()}),{cursorTop:t,cursorLeft:l,background:a,colorValue:s,handleDrag:r,update:c,ns:n}}}),dn=m("div",null,null,-1),hn=[dn];function fn(e,n,o,t,l,a){return M(),N("div",{class:k(e.ns.b()),style:V({backgroundColor:e.background})},[m("div",{class:k(e.ns.e("white"))},null,2),m("div",{class:k(e.ns.e("black"))},null,2),m("div",{class:k(e.ns.e("cursor")),style:V({top:e.cursorTop+"px",left:e.cursorLeft+"px"})},hn,6)],6)}var vn=G(un,[["render",fn],["__file","sv-panel.vue"]]);const pn=["onKeydown"],mn=["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex"],bn=D({name:"ElColorPicker"}),gn=D(le(se({},bn),{props:en,emits:tn,setup(e,{expose:n,emit:o}){const t=e,{t:l}=gt(),a=X("color"),{formItem:s}=_t(),c=kt(),r=Ct(),{inputId:u,isLabeledByFormItem:p}=$t(t,{formItemContext:s}),d=C(),b=C(),f=C(),v=C(),g=C(),$=C(),{isFocused:P,handleFocus:w,handleBlur:_}=yt(g,{beforeBlur(h){var y;return(y=v.value)==null?void 0:y.isFocusInsideContent(h)},afterBlur(){W(!1),z()}}),J=h=>{if(r.value)return Ee();w(h)};let oe=!0;const E=wt(new j({enableAlpha:t.showAlpha,format:t.colorFormat||"",value:t.modelValue})),x=C(!1),L=C(!1),R=C(""),Je=S(()=>!t.modelValue&&!L.value?"transparent":tt(E,t.showAlpha)),ae=S(()=>!t.modelValue&&!L.value?"":E.value),Qe=S(()=>p.value?void 0:t.label||l("el.colorpicker.defaultLabel")),Ze=S(()=>p.value?s==null?void 0:s.labelId:void 0),et=S(()=>[a.b("picker"),a.is("disabled",r.value),a.bm("picker",c.value),a.is("focused",P.value)]);function tt(h,y){if(!(h instanceof j))throw new TypeError("color should be instance of _color Class");const{r:T,g:Me,b:Se}=h.toRgb();return y?`rgba(${T}, ${Me}, ${Se}, ${h.get("alpha")/100})`:`rgb(${T}, ${Me}, ${Se})`}function W(h){x.value=h}const Q=Et(W,100,{leading:!0});function Ce(){r.value||W(!0)}function $e(){Q(!1),z()}function z(){O(()=>{t.modelValue?E.fromString(t.modelValue):(E.value="",O(()=>{L.value=!1}))})}function nt(){r.value||Q(!x.value)}function ye(){E.fromString(R.value)}function ot(){const h=E.value;o(me,h),o("change",h),t.validateEvent&&(s==null||s.validate("change").catch(y=>Be(y))),Q(!1),O(()=>{const y=new j({enableAlpha:t.showAlpha,format:t.colorFormat||"",value:t.modelValue});E.compare(y)||z()})}function at(){Q(!1),o(me,null),o("change",null),t.modelValue!==null&&t.validateEvent&&(s==null||s.validate("change").catch(h=>Be(h))),z()}function st(h){if(x.value&&($e(),P.value)){const y=new FocusEvent("focus",h);_(y)}}function we(h){h.preventDefault(),h.stopPropagation(),W(!1),z()}function lt(h){switch(h.code){case he.enter:case he.space:h.preventDefault(),h.stopPropagation(),Ce(),$.value.focus();break;case he.esc:we(h);break}}function rt(){g.value.focus()}function Ee(){g.value.blur()}return Y(()=>{t.modelValue&&(R.value=ae.value)}),I(()=>t.modelValue,h=>{h?h&&h!==E.value&&(oe=!1,E.fromString(h)):L.value=!1}),I(()=>ae.value,h=>{R.value=h,oe&&o("activeChange",h),oe=!0}),I(()=>E.value,()=>{!t.modelValue&&!L.value&&(L.value=!0)}),I(()=>x.value,()=>{O(()=>{var h,y,T;(h=d.value)==null||h.update(),(y=b.value)==null||y.update(),(T=f.value)==null||T.update()})}),Mt(Ye,{currentColor:ae}),n({color:E,show:Ce,hide:$e,focus:rt,blur:Ee}),(h,y)=>(M(),ue(i(At),{ref_key:"popper",ref:v,visible:x.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[i(a).be("picker","panel"),i(a).b("dropdown"),h.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",transition:`${i(a).namespace.value}-zoom-in-top`,persistent:"",onHide:y[2]||(y[2]=T=>W(!1))},{content:B(()=>[Z((M(),N("div",{onKeydown:Pe(we,["esc"])},[m("div",{class:k(i(a).be("dropdown","main-wrapper"))},[F(Zt,{ref_key:"hue",ref:d,class:"hue-slider",color:i(E),vertical:""},null,8,["color"]),F(vn,{ref_key:"sv",ref:b,color:i(E)},null,8,["color"])],2),h.showAlpha?(M(),ue(Gt,{key:0,ref_key:"alpha",ref:f,color:i(E)},null,8,["color"])):de("v-if",!0),h.predefine?(M(),ue(cn,{key:1,ref:"predefine",color:i(E),colors:h.predefine},null,8,["color","colors"])):de("v-if",!0),m("div",{class:k(i(a).be("dropdown","btns"))},[m("span",{class:k(i(a).be("dropdown","value"))},[F(i(St),{ref_key:"inputRef",ref:$,modelValue:R.value,"onUpdate:modelValue":y[0]||(y[0]=T=>R.value=T),"validate-event":!1,size:"small",onKeyup:Pe(ye,["enter"]),onBlur:ye},null,8,["modelValue","onKeyup"])],2),F(i(Le),{class:k(i(a).be("dropdown","link-btn")),text:"",size:"small",onClick:at},{default:B(()=>[Ve(te(i(l)("el.colorpicker.clear")),1)]),_:1},8,["class"]),F(i(Le),{plain:"",size:"small",class:k(i(a).be("dropdown","btn")),onClick:ot},{default:B(()=>[Ve(te(i(l)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,pn)),[[i(Wt),st]])]),default:B(()=>[m("div",{id:i(u),ref_key:"triggerRef",ref:g,class:k(i(et)),role:"button","aria-label":i(Qe),"aria-labelledby":i(Ze),"aria-description":i(l)("el.colorpicker.description",{color:h.modelValue||""}),"aria-disabled":i(r),tabindex:i(r)?-1:h.tabindex,onKeydown:lt,onFocus:J,onBlur:y[1]||(y[1]=(...T)=>i(_)&&i(_)(...T))},[i(r)?(M(),N("div",{key:0,class:k(i(a).be("picker","mask"))},null,2)):de("v-if",!0),m("div",{class:k(i(a).be("picker","trigger")),onClick:nt},[m("span",{class:k([i(a).be("picker","color"),i(a).is("alpha",h.showAlpha)])},[m("span",{class:k(i(a).be("picker","color-inner")),style:V({backgroundColor:i(Je)})},[Z(F(i(He),{class:k([i(a).be("picker","icon"),i(a).is("icon-arrow-down")])},{default:B(()=>[F(i(Nt))]),_:1},8,["class"]),[[De,h.modelValue||L.value]]),Z(F(i(He),{class:k([i(a).be("picker","empty"),i(a).is("icon-close")])},{default:B(()=>[F(i(Ft))]),_:1},8,["class"]),[[De,!h.modelValue&&!L.value]])],6)],2)],2)],42,mn)]),_:1},8,["visible","popper-class","transition"]))}}));var _n=G(gn,[["__file","color-picker.vue"]]);const kn=Tt(_n),A="ElInfiniteScroll",Cn=50,$n=200,yn=0,wn={delay:{type:Number,default:$n},distance:{type:Number,default:yn},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},_e=(e,n)=>Object.entries(wn).reduce((o,[t,l])=>{var a,s;const{type:c,default:r}=l,u=e.getAttribute(`infinite-scroll-${t}`);let p=(s=(a=n[u])!=null?a:u)!=null?s:r;return p=p==="false"?!1:p,p=c(p),o[t]=Number.isNaN(p)?r:p,o},{}),Ge=e=>{const{observer:n}=e[A];n&&(n.disconnect(),delete e[A].observer)},En=(e,n)=>{const{container:o,containerEl:t,instance:l,observer:a,lastScrollTop:s}=e[A],{disabled:c,distance:r}=_e(e,l),{clientHeight:u,scrollHeight:p,scrollTop:d}=t,b=d-s;if(e[A].lastScrollTop=d,a||c||b<0)return;let f=!1;if(o===e)f=p-(u+d)<=r;else{const{clientTop:v,scrollHeight:g}=e,$=Vt(e,t);f=d+u>=$+v+g-r}f&&n.call(l)};function pe(e,n){const{containerEl:o,instance:t}=e[A],{disabled:l}=_e(e,t);l||o.clientHeight===0||(o.scrollHeight<=o.clientHeight?n.call(t):Ge(e))}const Mn={mounted(e,n){return re(this,null,function*(){const{instance:o,value:t}=n;It(t)||Pt(A,"'v-infinite-scroll' binding value must be a function"),yield O();const{delay:l,immediate:a}=_e(e,o),s=Lt(e,!0),c=s===window?document.documentElement:s,r=Oe(En.bind(null,e,t),l);if(s){if(e[A]={instance:o,container:s,containerEl:c,delay:l,cb:t,onScroll:r,lastScrollTop:c.scrollTop},a){const u=new MutationObserver(Oe(pe.bind(null,e,t),Cn));e[A].observer=u,u.observe(e,{childList:!0,subtree:!0}),pe(e,t)}s.addEventListener("scroll",r)}})},unmounted(e){const{container:n,onScroll:o}=e[A];n==null||n.removeEventListener("scroll",o),Ge(e)},updated(e){return re(this,null,function*(){if(!e[A])yield O();else{const{containerEl:n,cb:o,observer:t}=e[A];n.clientHeight&&t&&pe(e,o)}})}},be=Mn;be.install=e=>{e.directive("InfiniteScroll",be)};const Sn=be,ke=e=>(Kt("data-v-3d10332d"),e=e(),xt(),e),Nn={class:"list-container"},Fn={class:"list-item"},An=ke(()=>m("div",{class:"list-title"},"黑暗模式",-1)),Tn={class:"list-content"},In={class:"list-item"},Pn=ke(()=>m("div",{class:"list-title"},"主题颜色",-1)),Ln={class:"list-content"},Vn={class:"card-color"},Hn=["onClick"],Dn={class:"color-item"},Bn={class:"text-[14px] text-ellipsis text-[var(--prism-color)]"},On={class:"list-item"},Kn=ke(()=>m("div",{class:"list-title"},"自定义",-1)),xn={class:"list-content"},Rn={__name:"index",setup(e){const n=Dt(),{switchDark:o}=Ke(),{changePrimary:t}=Ke(),l=C(n.isDark),a=C([]);function s(){n.setIsDark(!n.isDark),o()}Y(()=>{Bt({method:"get",url:"https://mock.mengxuegu.com/mock/634f6425369a770d74bbf7b9/example/colorsList"}).then(({data:d})=>{a.value=d})});function c(){}function r(d){n.setPrimary(d),t(d)}const u=d=>{const b=p(d);t(b)};function p(d){const b=/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)$/,f=d.match(b);if(!f)throw new Error("Invalid RGBA string");const v=parseInt(f[1],10),g=parseInt(f[2],10),$=parseInt(f[3],10);return`#${((1<<24)+(v<<16)+(g<<8)+$).toString(16).slice(1)}`}return(d,b)=>{const f=Rt,v=kn,g=Sn;return M(),N("div",Nn,[m("div",Fn,[An,m("div",Tn,[F(f,{modelValue:i(l),"onUpdate:modelValue":b[0]||(b[0]=$=>Ot(l)?l.value=$:null),onChange:s},null,8,["modelValue"])])]),m("div",In,[Pn,m("div",Ln,[Z((M(),N("div",Vn,[(M(!0),N(qe,null,Xe(i(a),$=>(M(),N("div",{key:$.hex,class:"cards-item",onClick:P=>r($.hex)},[m("div",Dn,[m("div",{style:V({backgroundColor:$.hex})},null,4)]),m("span",Bn,te($.name)+"("+te($.pinyin)+")",1)],8,Hn))),128))])),[[g,c]])])]),m("div",On,[Kn,m("div",xn,[F(v,{modelValue:i(n).primary,"onUpdate:modelValue":b[1]||(b[1]=$=>i(n).primary=$),"show-alpha":"",onChange:u},null,8,["modelValue"])])])])}}},qn=Ht(Rn,[["__scopeId","data-v-3d10332d"],["__file","/home/runner/work/KM-Music-Player/KM-Music-Player/src/pages/theme/index.vue"]]);export{qn as default};
