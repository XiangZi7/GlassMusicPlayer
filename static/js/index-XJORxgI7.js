import{o as n,c as a,a as s,d as M,u as P,Q as C,R as E,r as U,t as V,b as B,S as D,T as F,U as L,g as e,k as c,f as l,w as N,n as m,F as h,j as p,E as R,h as A,V as T,W as K,X as Q,Y as z,_ as O}from"./index-joBh_7CL.js";const W={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},X=s("path",{fill:"currentColor",d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2s-2 .9-2 2s.9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2"},null,-1),Y=[X];function G(f,g){return n(),a("svg",W,[...Y])}const H={name:"ic-baseline-more-vert",render:G},I={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},J=s("path",{fill:"currentColor",d:"m9.5 16.5l7-4.5l-7-4.5zM12 22q-2.075 0-3.9-.788t-3.175-2.137q-1.35-1.35-2.137-3.175T2 12q0-2.075.788-3.9t2.137-3.175q1.35-1.35 3.175-2.137T12 2q2.075 0 3.9.788t3.175 2.137q1.35 1.35 2.138 3.175T22 12q0 2.075-.788 3.9t-2.137 3.175q-1.35 1.35-3.175 2.138T12 22m0-2q3.35 0 5.675-2.325T20 12q0-3.35-2.325-5.675T12 4Q8.65 4 6.325 6.325T4 12q0 3.35 2.325 5.675T12 20m0-8"},null,-1),Z=[J];function ss(f,g){return n(),a("svg",I,[...Z])}const ts={name:"material-symbols-play-circle-outline",render:ss},es={class:"flex h-full"},os={class:"flex-1 min-w-0"},ns={key:0,class:"mb-6"},as=s("h3",{class:"text-xl font-semibold mb-4"},"每日歌曲",-1),cs={class:"grid grid-cols-5 gap-6"},is={class:"rounded-lg border bg-white bg-card text-card-foreground shadow-sm col-span-2"},ls={class:"p-6"},rs=["src"],ds={class:"mt-4"},_s={class:"text-lg font-semibold"},us={class:"text-sm text-gray-600"},ms={class:"col-span-3 space-y-4 bg-white p-3 rounded-xl"},hs=["onDblclick"],ps={class:"flex items-center"},gs={class:"ml-2"},xs={class:"text-sm font-medium"},fs={class:"text-xs text-gray-500"},bs={class:"text-xs text-gray-500"},ys={key:1,class:"mb-6"},vs=s("h3",{class:"text-xl font-semibold mb-4"},"每日歌单",-1),ws={class:"grid grid-cols-5 gap-6"},Ts=["onClick"],ks=["src"],qs={class:"text-xs flex gap-1 items-center absolute top-0 right-0 text-white p-1 rounded-br-lg transition duration-300 ease-in-out group-hover:bg-opacity-70"},js={class:"text-xs text-center absolute bottom-0 left-0 right-0 bg-black bg-opacity-30 backdrop-filter backdrop-blur-sm p-2 text-white truncate transition duration-300 ease-in-out group-hover:bg-opacity-70"},Ss={class:"w-64 ml-8"},$s={key:0,class:"mb-6"},Ms={class:"text-lg font-semibold mb-4"},Ps={class:"space-y-3"},Cs={class:"flex items-center"},Es={class:"ml-2"},Us={class:"text-sm font-medium"},Vs={class:"text-xs text-gray-500"},Bs={key:1},Ds={class:"text-lg font-semibold mb-4"},Fs={class:"space-y-3"},Ls={class:"flex items-center"},Ns={class:"ml-2"},Rs={class:"text-sm font-medium"},As={class:"text-xs text-gray-500"},Ks=M({__name:"index",setup(f){const g=P(),k=C(),b=E("musicPlayer");if(!b)throw new Error("musicPlayer is not provided");const{addTrackAndPlay:q}=b,_=U({dailySongs:[],recommend:[],Toplist:{artistToplist:[],rewardToplist:[]}}),{dailySongs:r,recommend:y,Toplist:i}=V(_);B(()=>{Promise.all([D(),F(),L()]).then(o=>{console.log("=>(index.vue:21) res",o),_.dailySongs=o[0].data.dailySongs,_.recommend=o[1].recommend,_.Toplist=o[2]})});function j(o){return K(o)}function S(o){Q(o.id).then(({data:v})=>{let u={id:o.id,title:o.name,singer:o.ar.map(x=>x.name).join(" / "),album:o.al.name,cover:o.al.picUrl,source:v[0].url,time:o.dt,mv:o.mv};k.addTrackAndPlay(u),q()})}return(o,v)=>{const u=z,x=R,$=ts,w=H;return n(),a("div",es,[s("main",os,[e(r).length>0?(n(),a("section",ns,[as,s("div",cs,[s("div",is,[s("div",ls,[s("img",{alt:"Sleep 4Ever",class:"rounded-lg w-full h-full",src:e(r)[0].al.picUrl+"?param=900y900",style:{"aspect-ratio":"480/240","object-fit":"cover"}},null,8,rs),s("div",ds,[s("h4",_s,c(e(r)[0].name),1),s("p",us,c(e(r)[0].ar.map(t=>t.name).join("、")),1)])])]),s("div",ms,[l(x,{"max-height":"300"},{default:N(()=>[(n(!0),a(h,null,p(e(r),t=>(n(),a("div",{key:t.id,class:"flex items-center justify-between py-1.5 hover:bg-[lightgray] px-2 rounded-xl transition",onDblclick:d=>S(t)},[s("div",ps,[l(u,{shape:"square",src:t.al.picUrl+"?param=60y60"},null,8,["src"]),s("div",gs,[s("h4",xs,c(t.name),1),s("p",fs,c(t.ar.map(d=>d.name).join("、")),1)])]),s("span",bs,c(j(t.dt)),1)],40,hs))),128))]),_:1})])])])):m("",!0),e(y).length>0?(n(),a("section",ys,[vs,s("div",ws,[(n(!0),a(h,null,p(e(y),t=>(n(),a("div",{key:t.id,class:"relative rounded-lg overflow-hidden group",onClick:d=>e(g).push({path:`/songList/songListDetails/${t.id}`})},[s("img",{alt:"cover",class:"rounded-lg w-full h-full transform transition duration-300 ease-in-out group-hover:scale-105",src:t.picUrl+"?param=300y300"},null,8,ks),s("div",qs,[l($),A(" "+c(t.playcount),1)]),s("div",js,c(t.name),1)],8,Ts))),128))])])):m("",!0)]),s("aside",Ss,[e(T)(e(i).artistToplist)?m("",!0):(n(),a("section",$s,[s("h3",Ms,c(e(i).artistToplist.name),1),s("div",Ps,[(n(!0),a(h,null,p(e(i).artistToplist.artists,t=>(n(),a("div",{key:t.id,class:"flex items-center justify-between bg-white rounded-xl p-3"},[s("div",Cs,[s("div",Es,[s("h4",Us,c(t.first),1),s("p",Vs,c(e(i).artistToplist.upateFrequency),1)])]),l(w)]))),128))])])),e(T)(e(i).rewardToplist)?m("",!0):(n(),a("section",Bs,[s("h3",Ds,c(e(i).rewardToplist.name),1),s("div",Fs,[(n(!0),a(h,null,p(e(i).rewardToplist.songs,t=>(n(),a("div",{key:t.id,class:"flex items-center justify-between bg-white rounded-xl p-3"},[s("div",Ls,[l(u,{src:t.album.picUrl+"?param=60y60"},null,8,["src"]),s("div",Ns,[s("h4",Rs,c(t.name),1),s("p",As,c(t.album.artists.map(d=>d.name).join()),1)])]),l(w)]))),128))])]))])])}}}),zs=O(Ks,[["__file","/home/runner/work/KM-Music-Player/KM-Music-Player/src/pages/library/index.vue"]]);export{zs as default};
