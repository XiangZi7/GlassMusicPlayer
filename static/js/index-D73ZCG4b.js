import{v as D,t as F,w as O,h as S,x as E}from"./index-B9uzr887.js";import{_ as H}from"./music-library-broken-C_XgvIRf.js";import{m as I,q as a,k as X,v as o,e as h}from"./@vue_reactivity@3.5.13-DVqfZfgJ.js";import{o as l,c as i,a as t,d as G,m as J,i as r,D as P,F as b,S as x,z as K,X as p,C as j}from"./@vue_runtime-core@3.5.13-D0UggR25.js";import{p as Q,b as W}from"./enum-DefmansI.js";import{a as Y}from"./vue-router@4.5.0_vue@3.5.13_typescript@5.6.3_-Ck-ukzwP.js";import{p as Z,M as f}from"./@vue_shared@3.5.13-oPavf41m.js";import"./@vue_runtime-dom@3.5.13-BVspzEjS.js";import"./@iconify_vue@4.3.0_vue@3.5.13_typescript@5.6.3_-NS46C8hN.js";import"./axios@1.7.9-upsvKRUO.js";import"./nprogress@0.2.0-2myQQFUx.js";import"./artplayer@5.2.2-DS9jODRL.js";import"./pinia@2.3.1_typescript@5.6.3_vue@3.5.13_typescript@5.6.3_-Bbm25ImI.js";import"./vue-demi@0.14.10_vue@3.5.13_typescript@5.6.3_-Dq6ymT-8.js";import"./@vueuse_core@12.5.0_typescript@5.6.3-DxQS7b1s.js";import"./@vueuse_shared@12.5.0_typescript@5.6.3-CYuF3qNP.js";import"./element-plus@2.9.3_vue@3.5.13_typescript@5.6.3_-cDIutw2K.js";import"./lodash-es@4.17.21-C-zDejYo.js";import"./@vueuse_shared@9.13.0_vue@3.5.13_typescript@5.6.3_-C-4_69NP.js";import"./@vueuse_core@9.13.0_vue@3.5.13_typescript@5.6.3_-CSKvZi15.js";import"./@element-plus_icons-vue@2.3.1_vue@3.5.13_typescript@5.6.3_-DA6ZXMEE.js";import"./@sxzz_popperjs-es@2.11.7-D9SI2xQl.js";import"./@ctrl_tinycolor@3.6.1-r5W6hzzQ.js";import"./dayjs@1.11.13-B9vLV8e8.js";import"./async-validator@4.2.5-9PlIezaS.js";import"./memoize-one@6.0.0-BdPwpGay.js";import"./normalize-wheel-es@1.2.0-B6fDCfyv.js";import"./@floating-ui_dom@1.6.13-CajCCXHK.js";import"./@floating-ui_core@1.6.9-B4d9L5V3.js";import"./@floating-ui_utils@0.2.9-CfPjaTyQ.js";import"./vue-i18n@11.0.1_vue@3.5.13_typescript@5.6.3_-DcD3Ohgl.js";import"./@intlify_core-base@11.0.1-BZLI_61R.js";import"./@intlify_shared@11.0.1-i7e918a7.js";import"./@intlify_message-compiler@11.0.1-CJM0b8Rk.js";import"./pinia-plugin-persistedstate@4.2.0_pinia@2.3.1_typescript@5.6.3_vue@3.5.13_typescript@5.6.3___rollup@4.29.1-_Zka_ujQ.js";import"./destr@2.0.3-CVtkxrq9.js";import"./deep-pick-omit@1.2.1-CegYQlcN.js";const ee={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function te(V,g){return l(),i("svg",ee,g[0]||(g[0]=[t("path",{fill:"currentColor",d:"M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5l-1.5 1.5l-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16A6.5 6.5 0 0 1 3 9.5A6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14S14 12 14 9.5S12 5 9.5 5"},null,-1)]))}const oe=I({name:"mdi-magnify",render:te}),se={class:"flex flex-col h-full flex-1 overflow-hidden bg-background p-4"},ne={class:"py-4"},le={class:"flex flex-col sm:flex-row gap-4"},re={class:"relative flex-grow"},ie={class:"flex-grow flex flex-col overflow-x-hidden"},ae={class:"border-b pb-1"},ue={class:"inline-flex h-10 items-center rounded-lg bg-muted/70 p-1 text-muted-foreground w-full justify-start mb-2 overflow-x-auto"},de=["onClick"],ce={class:"flex-1 overflow-x-hidden my-2"},me={class:"grid grid-cols-[repeat(auto-fill,minmax(220px,1fr))] gap-6"},pe=["onClick"],fe={class:"flex flex-col space-y-1.5 p-0"},ge={class:"relative"},ve={class:"p-4"},_e={class:"font-semibold tracking-tight text-lg mb-2 line-clamp-1"},he={class:"flex items-center text-sm text-muted-foreground"},be={class:"relative flex shrink-0 overflow-hidden rounded-full w-6 h-6 mr-2"},xe={class:"items-center p-4 pt-0 flex justify-between text-sm text-muted-foreground"},we={class:"flex items-center gap-1"},ye={class:"flex items-center gap-1"},ke={class:"mx-auto flex w-full justify-center mt-4"},it=G({__name:"index",setup(V){const g=Y(),v=a([]),w=a("user"),d=a("hot"),k=a([]),c=a("全部"),B=n=>{w.value=n,u()},_=a(1),m=a(30),y=X({size:"default",disabled:!1,background:!1,layout:"total, sizes, prev, pager, next, jumper",total:0,pageSizes:[20,30,40,50]}),U=()=>{u()},q=()=>{u()},u=()=>{v.value=void 0,w.value=="user"?F({offset:_.value,limit:m.value,order:d.value,cat:c.value}).then(n=>{v.value=n.playlists,y.total=n.total}):O({limit:m.value,order:d.value,cat:c.value}).then(n=>{v.value=n.playlists,y.total=n.total})};return J(()=>{D().then(n=>{k.value=n.sub}),u()}),(n,s)=>{const A=oe,C=p("el-option"),z=p("el-select"),L=p("el-image"),M=p("el-avatar"),N=H,R=E,T=p("el-pagination");return l(),i("div",se,[t("div",ne,[t("div",le,[t("div",re,[r(A,{class:"lucide lucide-search absolute left-2 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),s[4]||(s[4]=t("input",{disabled:"",class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 pl-8",placeholder:"搜索歌单...",type:"search"},null,-1))]),r(z,{class:"w-48",modelValue:o(c),"onUpdate:modelValue":s[0]||(s[0]=e=>h(c)?c.value=e:null),onChange:u},{default:P(()=>[(l(!0),i(b,null,x(o(k),e=>(l(),j(C,{key:e.name,label:e.name,value:e.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),r(z,{class:"w-48",modelValue:o(d),"onUpdate:modelValue":s[1]||(s[1]=e=>h(d)?d.value=e:null),onChange:u},{default:P(()=>[(l(!0),i(b,null,x(o(Q),e=>(l(),j(C,{key:e.name,label:e.name,value:e.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),t("div",ie,[t("div",ae,[t("div",ue,[(l(!0),i(b,null,x(o(W),e=>(l(),i("button",{key:e.value,onClick:$=>B(e.value),class:Z([{"bg-background text-foreground shadow-sm":o(w)===e.value},"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"])},f(e.name),11,de))),128))])]),t("div",ce,[t("div",me,[(l(!0),i(b,null,x(o(v),e=>(l(),i("div",{key:e.id,onClick:$=>o(g).push("/playlist/"+e.id),class:"rounded-lg hover:bg-background transition duration-300 border bg-card text-card-foreground shadow-sm overflow-hidden hover:shadow-lg"},[t("div",fe,[t("div",ge,[r(L,{lazy:"",alt:e.name,class:"w-full aspect-square object-cover",src:e.coverImgUrl+"?param=330y330"},null,8,["alt","src"]),s[5]||(s[5]=t("button",{class:"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-secondary text-secondary-foreground hover:bg-secondary/80 h-10 w-10 absolute bottom-2 right-2 rounded-full"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-play h-4 w-4"},[t("polygon",{points:"6 3 20 12 6 21 6 3"})])],-1))])]),t("div",ve,[t("h3",_e,f(e.name),1),t("div",he,[t("span",be,[r(M,{class:"aspect-square h-full w-full",alt:e.creator.nickname,src:e.creator.avatarUrl},null,8,["alt","src"])]),t("span",null,f(e.creator.nickname),1)])]),t("div",xe,[t("div",we,[r(N),t("span",null,f(o(S)(e.playCount)),1)]),t("div",ye,[r(R),t("span",null,f(o(S)(e.subscribedCount)),1)])])],8,pe))),128))])])]),t("nav",ke,[r(T,K({"page-size":o(m),"onUpdate:pageSize":s[2]||(s[2]=e=>h(m)?m.value=e:null),currentPage:o(_),"onUpdate:currentPage":s[3]||(s[3]=e=>h(_)?_.value=e:null)},o(y),{onSizeChange:U,onCurrentChange:q}),null,16,["page-size","currentPage"])])])}}});export{it as default};
