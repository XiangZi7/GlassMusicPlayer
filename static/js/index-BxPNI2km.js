import{j as e,e as a,g as t,f as l,d as s,X as r,_ as n,b as o,F as i,k as u,l as c,w as m,h as d,m as p,I as g,a as f,t as v,o as h,Y as x,c as y,Z as V}from"./index-k6EsrvcV.js";import{_ as b}from"./index-B_TxgZe6.js";const k={viewBox:"0 0 14 14",width:"1.2em",height:"1.2em"};const _={name:"streamline-music-folder-song",render:function(l,s){return e(),a("svg",k,s[0]||(s[0]=[t("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M4.645 11a.88.88 0 1 0 0-1.759a.88.88 0 0 0 0 1.76Zm3.957-1.099a.88.88 0 1 0 0-1.76a.88.88 0 0 0 0 1.76"}),t("path",{d:"M5.525 10.12V6.339l3.957-.932v3.616"}),t("path",{d:"M.5 12.25V1.75a1 1 0 0 1 1-1h3.69a1 1 0 0 1 1 .76l.31 1.24h6a1 1 0 0 1 1 1v8.5a1 1 0 0 1-1 1h-11a1 1 0 0 1-1-1"})],-1)]))}},M={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};const w={name:"iconamoon-music-artist",render:function(l,s){return e(),a("svg",M,s[0]||(s[0]=[t("g",{fill:"none",stroke:"currentColor","stroke-width":"2"},[t("circle",{cx:"12",cy:"7",r:"3"}),t("circle",{cx:"18",cy:"18",r:"2","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12.341 20H6a2 2 0 0 1-2-2a4 4 0 0 1 4-4h5.528M20 18v-7l2 2"})],-1)]))}},D={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};const S={name:"akar-icons-music-album",render:function(t,s){return e(),a("svg",D,s[0]||(s[0]=[l('<g fill="none" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M2 6a4 4 0 0 1 4-4h12a4 4 0 0 1 4 4v12a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M9 16.5V8.78a1 1 0 0 1 .757-.97l6-1.5A1 1 0 0 1 17 7.28V15"></path><path d="m9 11l8-2"></path><circle cx="7.5" cy="16.5" r="1.5"></circle><circle cx="15.5" cy="15.5" r="1.5"></circle></g>',1)]))}},z={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};const P={name:"iconamoon-music-album-light",render:function(l,s){return e(),a("svg",z,s[0]||(s[0]=[t("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"},[t("circle",{cx:"12",cy:"12",r:"2"}),t("circle",{cx:"18",cy:"9",r:"2"}),t("path",{d:"M15.318 3.631a9 9 0 1 0 5.368 10.736M20 9V2l2 2"})],-1)]))}},C={class:"flex-1 p-4 md:p-6 grid gap-4 grid-cols-[repeat(auto-fill,minmax(220px,1fr))]"},j={class:"p-2"},A={class:"font-medium text-sm line-clamp-1"},U={class:"flex items-center gap-2 text-sm text-muted-foreground"},K={class:"line-clamp-1 text-xs"};const N=n(s({__name:"MV",props:{modelValue:{type:Array},modelModifiers:{}},emits:["update:modelValue"],setup(e,{expose:a}){a();let t=r(e,"modelValue");const l={get modelValue(){return t},set modelValue(e){t=e}};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}}),[["render",function(l,s,r,n,g,f){const v=o("el-image"),h=o("router-link");return e(),a("section",C,[(e(!0),a(i,null,u(n.modelValue,(a=>(e(),c(h,{to:`/video?id=${a.id}`,class:"group relative overflow-hidden",key:a.id},{default:m((()=>[d(v,{src:a.cover+"?param=320y200",lazy:"",class:"transition-opacity rounded-lg"},null,8,["src"]),t("div",j,[t("h3",A,p(a.name),1),t("div",U,[t("span",K,p(a.artists.map((e=>e.name)).join(" / ")),1)])])])),_:2},1032,["to"])))),128))])}],["__file","/home/runner/work/KMMusicPlayer/KMMusicPlayer/src/views/search/components/MV.vue"]]),L={class:"flex-1 p-4 md:p-6 grid gap-4 grid-cols-[repeat(auto-fill,minmax(180px,1fr))]"},O={class:"p-2"},q={class:"font-medium text-sm line-clamp-1"},B={class:"flex items-center gap-2 text-sm text-muted-foreground"},H={class:"line-clamp-1 text-xs"};const I=n(s({__name:"SongList",props:{modelValue:{type:Array},modelModifiers:{}},emits:["update:modelValue"],setup(e,{expose:a}){a();let t=r(e,"modelValue");const l={get modelValue(){return t},set modelValue(e){t=e}};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}}),[["render",function(l,s,r,n,g,f){const v=o("el-image"),h=o("router-link");return e(),a("section",L,[(e(!0),a(i,null,u(n.modelValue,(a=>(e(),c(h,{class:"group relative overflow-hidden",key:a.id,to:`/playlist?id=${a.id}`},{default:m((()=>[d(v,{src:a.coverImgUrl+"?param=200y200",lazy:"",class:"transition-opacity rounded-lg"},null,8,["src"]),t("div",O,[t("h3",q,p(a.name),1),t("div",B,[t("span",H,p(a.creator.nickname),1)])])])),_:2},1032,["to"])))),128))])}],["__file","/home/runner/work/KMMusicPlayer/KMMusicPlayer/src/views/search/components/SongList.vue"]]),Z={class:"flex-1 p-4 md:p-6 grid gap-4 grid-cols-[repeat(auto-fill,minmax(180px,1fr))]"},$={class:"p-2"},F={class:"font-medium text-sm line-clamp-1"},T={class:"flex items-center gap-2 text-sm text-muted-foreground"},X={class:"line-clamp-1 text-xs"};const Y=n(s({__name:"Album",props:{modelValue:{type:Array},modelModifiers:{}},emits:["update:modelValue"],setup(e,{expose:a}){a();let t=r(e,"modelValue");const l={get modelValue(){return t},set modelValue(e){t=e}};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}}),[["render",function(l,s,r,n,c,m){const g=o("el-image");return e(),a("section",Z,[(e(!0),a(i,null,u(n.modelValue,(l=>(e(),a("div",{class:"group relative overflow-hidden",key:l.id},[d(g,{src:l.picUrl+"?param=260y260",lazy:"",class:"transition-opacity rounded-lg"},null,8,["src"]),t("div",$,[t("h3",F,p(l.name),1),t("div",T,[t("span",X,p(l.artists.map((e=>e.name)).join(" / ")),1)])])])))),128))])}],["__file","/home/runner/work/KMMusicPlayer/KMMusicPlayer/src/views/search/components/Album.vue"]]),E={class:"flex-1 p-4 md:p-6 grid gap-4 grid-cols-[repeat(auto-fill,minmax(180px,1fr))]"},G={class:"p-2"},J={class:"font-medium text-sm line-clamp-1 text-center"};const Q=n(s({__name:"Artists",props:{modelValue:{type:Array},modelModifiers:{}},emits:["update:modelValue"],setup(e,{expose:a}){a();let t=r(e,"modelValue");const l={get modelValue(){return t},set modelValue(e){t=e}};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}}),[["render",function(l,s,r,n,c,m){const g=o("el-image");return e(),a("section",E,[(e(!0),a(i,null,u(n.modelValue,(l=>(e(),a("div",{class:"group relative overflow-hidden",key:l.id},[d(g,{src:l.picUrl+"?param=260y260",lazy:"",class:"transition-opacity rounded-full"},null,8,["src"]),t("div",G,[t("h3",J,p(l.name),1)])])))),128))])}],["__file","/home/runner/work/KMMusicPlayer/KMMusicPlayer/src/views/search/components/Artists.vue"]]),R={class:"container h-full py-4 gap-2 w-full box-border flex flex-1 flex-col overflow-x-hidden"},W={class:"flex flex-col h-full px-4 gap-8 md:gap-12 lg:gap-16 overflow-x-hidden"},ee={class:"flex gap-1 items-center"},ae={class:"flex gap-1 items-center"},te={class:"flex gap-1 items-center"},le={class:"flex gap-1 items-center"},se={class:"flex gap-1 items-center"};const re=n(s({__name:"index",setup(e,{expose:a}){a();const t=g(),l=f({activeName:"1",tableData:{},albumData:{albums:[]},singerData:{artists:[]},songData:{playlists:[]},mvData:{mvs:[]},currentPage:1,pageSize:30,size:"small",total:0}),{tableData:s,activeName:r,mvData:n,songData:o,singerData:i,albumData:u,currentPage:c,pageSize:m,size:d,total:p}=v(l);h((()=>{}));const V=async(e,a,t,s=20)=>{const{result:r}=await y({kw:e,type:a,limit:s,offset:t});switch(l.activeName){case"1":l.tableData=l.tableData=r,l.total=r.songCount;break;case"10":l.albumData=l.albumData=r,l.total=r.albumCount;break;case"100":l.singerData=l.singerData=r,l.total=r.artistCount;break;case"1000":l.songData=l.songData=r,l.total=r.playlistCount;break;case"1004":l.mvData=l.mvData=r,l.total=r.mvCount}l.tableData=r};x((()=>t.query.kw),(e=>{"string"==typeof e&&V(e)}),{immediate:!0});const b={route:t,state:l,tableData:s,activeName:r,mvData:n,songData:o,singerData:i,albumData:u,currentPage:c,pageSize:m,size:d,total:p,performSearch:V,handleClick:({props:e})=>{l.currentPage=1,V(t.query.kw,e.name)},handleSizeChange:e=>{V(t.query.kw,l.activeName,l.currentPage,e)},handleCurrentChange:e=>{V(t.query.kw,l.activeName,e,l.pageSize)},MV:N,SongList:I,Album:Y,Artists:Q};return Object.defineProperty(b,"__isScriptSetup",{enumerable:!1,value:!0}),b}}),[["render",function(l,s,r,n,i,u){const c=P,p=b,g=o("el-tab-pane"),f=S,v=w,h=_,x=V,y=o("el-tabs"),k=o("el-pagination");return e(),a("div",R,[t("div",W,[d(y,{modelValue:n.activeName,"onUpdate:modelValue":s[5]||(s[5]=e=>n.activeName=e),onTabClick:n.handleClick},{default:m((()=>[d(g,{name:"1"},{label:m((()=>[t("div",ee,[d(c),s[8]||(s[8]=t("span",null,"Songs",-1))])])),default:m((()=>[d(p,{modelValue:n.tableData.songs,"onUpdate:modelValue":s[0]||(s[0]=e=>n.tableData.songs=e)},null,8,["modelValue"])])),_:1}),d(g,{name:"10"},{label:m((()=>[t("div",ae,[d(f),s[9]||(s[9]=t("span",null,"Album",-1))])])),default:m((()=>[d(n.Album,{modelValue:n.albumData.albums,"onUpdate:modelValue":s[1]||(s[1]=e=>n.albumData.albums=e)},null,8,["modelValue"])])),_:1}),d(g,{name:"100"},{label:m((()=>[t("div",te,[d(v),s[10]||(s[10]=t("span",null,"Artists",-1))])])),default:m((()=>[d(n.Artists,{modelValue:n.singerData.artists,"onUpdate:modelValue":s[2]||(s[2]=e=>n.singerData.artists=e)},null,8,["modelValue"])])),_:1}),d(g,{name:"1000"},{label:m((()=>[t("div",le,[d(h),s[11]||(s[11]=t("span",null,"SongList",-1))])])),default:m((()=>[d(n.SongList,{modelValue:n.songData.playlists,"onUpdate:modelValue":s[3]||(s[3]=e=>n.songData.playlists=e)},null,8,["modelValue"])])),_:1}),d(g,{name:"1004"},{label:m((()=>[t("div",se,[d(x),s[12]||(s[12]=t("span",null,"MV",-1))])])),default:m((()=>[d(n.MV,{modelValue:n.mvData.mvs,"onUpdate:modelValue":s[4]||(s[4]=e=>n.mvData.mvs=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["modelValue"])]),d(k,{class:"flex items-center justify-center","current-page":n.currentPage,"onUpdate:currentPage":s[6]||(s[6]=e=>n.currentPage=e),"page-size":n.pageSize,"onUpdate:pageSize":s[7]||(s[7]=e=>n.pageSize=e),"page-sizes":[10,20,30,40],size:n.size,layout:"total, sizes, prev, pager, next, jumper",total:n.total,onSizeChange:n.handleSizeChange,onCurrentChange:n.handleCurrentChange},null,8,["current-page","page-size","size","total"])])}],["__file","/home/runner/work/KMMusicPlayer/KMMusicPlayer/src/views/search/index.vue"]]);export{re as default};
