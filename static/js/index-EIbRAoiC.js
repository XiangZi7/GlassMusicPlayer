import{a as P,s as N,t as K,u as U}from"./element-plus-HgVO88ID.js";import{_ as B}from"./songSheet-GdYC0ak6.js";import"./vue-QRcACDZS.js";import{d as b,as as $,o as r,c as p,U as w,a6 as T,a as i,e as d,Y as h,$ as E,af as I,w as L,b as g,V as n,u as a,G as V,T as k}from"./@vue-pciPq-Ev.js";import{_ as x,c as S,m as R}from"./index-oaXunfDq.js";import{b as q}from"./vue-router-d3mNYdNn.js";import"./@element-plus-jC-WUTAd.js";import"./@vueuse-aTQAE_yp.js";import"./lodash-es-DA4vajO2.js";import"./@ctrl--dareiTT.js";import"./@popperjs-NiN61gaS.js";import"./memoize-one-JaOscZgY.js";import"./useObserver-UdzpyLr5.js";import"./pinia-2idKN3M1.js";import"./axios-52F-EHG1.js";import"./nprogress-1-LfP57V.js";import"./@babel-3yCADe9Y.js";import"./pinia-plugin-persistedstate-XbYvz584.js";const D={class:"playlist mt-2"},F={class:"cover"},G={class:"title"},Q={class:"artist"},Y=b({__name:"ASongList",props:{modelValue:{type:Array},modelModifiers:{}},emits:["update:modelValue"],setup(f){const c=$(f,"modelValue");return(l,m)=>{const e=P;return r(),p("div",D,[(r(!0),p(w,null,T(c.value,s=>(r(),p("div",{key:s.id,class:"song"},[i("div",F,[d(e,{src:s.coverImgUrl+"?param=450y450",alt:s.name},null,8,["src","alt"])]),i("div",G,h(s.name),1),i("div",Q,h(s.creator.nickname),1)]))),128))])}}}),j=x(Y,[["__scopeId","data-v-a296107f"],["__file","/home/runner/work/KM-Music-Player/KM-Music-Player/src/pages/search/components/ASongList.vue"]]),z={class:"mvlist mt-2"},H={class:"cover"},J=["src"],O={class:"title"},W={class:"artist"},X=b({__name:"AMV",props:{modelValue:{type:Array},modelModifiers:{}},emits:["update:modelValue"],setup(f){const c=$(f,"modelValue");return(l,m)=>(r(),p("div",z,[(r(!0),p(w,null,T(c.value,e=>(r(),p("div",{key:e.id,class:"mv"},[i("div",H,[i("img",{src:e.cover+"?param=500y250",alt:"mv 1 Title"},null,8,J)]),i("div",O,h(e.name),1),i("div",W,h(e.artistName),1)]))),128))]))}}),Z=x(X,[["__scopeId","data-v-7428fe7b"],["__file","/home/runner/work/KM-Music-Player/KM-Music-Player/src/pages/search/components/AMV.vue"]]),ee=i("label",null,"歌曲",-1),oe=i("label",null,"歌单",-1),te=i("label",null,"MV",-1),ae=b({__name:"index",setup(f){const c=q(),l=E({activeName:"1",list:[],songTotal:{songCount:0,playlistCount:0,mvCount:0}}),{songTotal:m,list:e,activeName:s}=I(l);function C(_,t){S({kw:c.query.kw,type:_,offset:t}).then(({result:o,code:y,message:v})=>{if(y!=200&&R(y,v),o){const M=o.songs||o.playlists||o.mvs||[];l.list=l.list.concat(M),o.songCount!==void 0&&(l.songTotal.songCount=o.songCount),o.playlistCount!==void 0&&(l.songTotal.playlistCount=o.playlistCount),o.mvCount!==void 0&&(l.songTotal.mvCount=o.mvCount)}else console.error("result is undefined. Cannot proceed.")}).catch(o=>{console.error("An error occurred:",o)})}function A(_){l.list=[];const{props:t}=_;C(t.name)}return L(()=>c.query.kw,()=>{C(l.activeName)},{immediate:!0}),(_,t)=>{const o=K,y=B,v=U,M=N;return r(),g(M,{modelValue:a(s),"onUpdate:modelValue":t[4]||(t[4]=u=>V(s)?s.value=u:null),onTabClick:A},{default:n(()=>[d(v,{name:"1"},{label:n(()=>[d(o,{hidden:a(m).songCount==0,value:a(m).songCount,max:99,type:"primary"},{default:n(()=>[ee]),_:1},8,["hidden","value"])]),default:n(()=>[a(s)=="1"?(r(),g(y,{key:0,modelValue:a(e),"onUpdate:modelValue":t[0]||(t[0]=u=>V(e)?e.value=u:null),onQuery:t[1]||(t[1]=u=>C(_.$event,u))},null,8,["modelValue"])):k("",!0)]),_:1}),d(v,{name:"1000"},{label:n(()=>[d(o,{hidden:a(m).playlistCount==0,value:a(m).playlistCount,max:99,type:"primary"},{default:n(()=>[oe]),_:1},8,["hidden","value"])]),default:n(()=>[a(s)=="1000"?(r(),g(j,{key:0,modelValue:a(e),"onUpdate:modelValue":t[2]||(t[2]=u=>V(e)?e.value=u:null)},null,8,["modelValue"])):k("",!0)]),_:1}),d(v,{name:"1004"},{label:n(()=>[d(o,{hidden:a(m).mvCount==0,value:a(m).mvCount,max:99,type:"primary"},{default:n(()=>[te]),_:1},8,["hidden","value"])]),default:n(()=>[a(s)=="1004"?(r(),g(Z,{key:0,modelValue:a(e),"onUpdate:modelValue":t[3]||(t[3]=u=>V(e)?e.value=u:null)},null,8,["modelValue"])):k("",!0)]),_:1})]),_:1},8,["modelValue"])}}}),Me=x(ae,[["__file","/home/runner/work/KM-Music-Player/KM-Music-Player/src/pages/search/index.vue"]]);export{Me as default};
