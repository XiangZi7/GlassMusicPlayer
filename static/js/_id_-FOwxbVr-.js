import{_ as C}from"./songSheet-Dz3-4JcR.js";import{d as N,bm as U,A as j,r as D,t as I,B as L,g as t,c as _,a as e,$ as P,l as i,f as B,F as T,k as F,w as K,m as O,q as E,bn as R,bo as $,E as q,bp as z,o as d,h as G,_ as H}from"./index-xuQRkY2E.js";import"./useIntersectionObserver-Z01xydaK.js";const J={key:0,class:"playlist"},Q={class:"flex mb-3"},W={class:"playlist-info"},X={class:"author"},Y={class:"author-name"},Z={class:"playlist-description"},ss={class:"tags"},ts={class:"Button-group mt-3"},as=N({__name:"[id]",setup(es){const M=U(),S=j(),l=D({playlists:void 0}),{playlists:s}=I(l);L(()=>S.params.id,o=>{l.playlists=void 0,z(o).then(({playlist:n})=>{l.playlists=n})},{immediate:!0});function m(o){return o instanceof Object?Object.keys(o).length>0:!1}function w(){if(!l.playlists||!l.playlists.tracks)return;let o=l.playlists.tracks.map(c=>c.id).join(),n=[];R(o).then(({data:c})=>{l.playlists.tracks.forEach(a=>{let u=c.find(r=>a.id===r.id);n.push({id:a.id,title:a.name,singer:a.ar.map(r=>r.name).join(),album:a.al.name,cover:a.al.picUrl,source:u.url,time:a.dt,mv:a.mv})}),M.addTrackAndPlay(n)})}return(o,n)=>{var r,y,f,h,k,v,g,b,V,x;const c=$,a=q,u=C;return m(t(s))?(d(),_("div",J,[e("div",Q,[e("div",{class:"playlist-cover yx-col-6",style:P({backgroundImage:`url(${((r=t(s))==null?void 0:r.coverImgUrl)+"?param=500y500"})`})},null,4),e("div",W,[e("h2",null,i((y=t(s))==null?void 0:y.name),1),e("div",X,[B(c,{class:"mr-2",src:((h=(f=t(s))==null?void 0:f.creator)==null?void 0:h.avatarUrl)+"?param=60y60",alt:(v=(k=t(s))==null?void 0:k.creator)==null?void 0:v.nickname},null,8,["src","alt"]),e("span",Y,i((b=(g=t(s))==null?void 0:g.creator)==null?void 0:b.nickname),1)]),e("p",Z,i((V=t(s))==null?void 0:V.description),1),e("ul",ss,[(d(!0),_(T,null,F((x=t(s))==null?void 0:x.tags,(p,A)=>(d(),_("li",{key:A},i(p)+">钢琴 ",1))),128))]),e("div",ts,[B(a,{type:"primary",onClick:w},{default:K(()=>[G("播放全部")]),_:1})])])]),m(t(s))?(d(),O(u,{key:0,modelValue:t(s).tracks,"onUpdate:modelValue":n[0]||(n[0]=p=>t(s).tracks=p)},null,8,["modelValue"])):E("",!0)])):E("",!0)}}}),rs=H(as,[["__scopeId","data-v-898ab488"],["__file","/home/runner/work/KM-Music-Player/KM-Music-Player/src/pages/songList/songListDetails/[id].vue"]]);export{rs as default};
