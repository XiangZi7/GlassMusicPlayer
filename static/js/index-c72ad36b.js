var h=(y,v,n)=>new Promise((r,l)=>{var g=e=>{try{d(n.next(e))}catch(o){l(o)}},u=e=>{try{d(n.throw(e))}catch(o){l(o)}},d=e=>e.done?r(e.value):Promise.resolve(e.value).then(g,u);d((n=n.apply(y,v)).next())});import{d as w,a as D,b as E}from"./element-plus-aaf5bffe.js";import{_ as F}from"./musicTable-4cef1be0.js";import N from"./index-7aeeb3f4.js";import S from"./index-e8a6e10e.js";import{G as T,n as U,r as L}from"./index-90c235ac.js";import{x as C,Z as M,a7 as R,e as P,o as b,c as x,a as f,P as $,a8 as j,u as p,U as s,S as m,z as A,R as k,a6 as G,W as z,O}from"./@vue-b6763d16.js";import"./@element-plus-3d5ed1a4.js";import"./@vueuse-ae6f4f55.js";import"./lodash-es-9cc69f4e.js";import"./@ctrl-86a38320.js";import"./@popperjs-7c8154ca.js";import"./escape-html-19374969.js";import"./dayjs-39b5b250.js";import"./normalize-wheel-es-ed76fb12.js";import"./formatTime-3cb25965.js";import"./vue-router-6e50d621.js";import"./pinia-358b124a.js";import"./pinia-plugin-persist-4bd0ee57.js";import"./axios-e76ab20a.js";const W=""+new URL("../mp4/B站-665d3d38.mp4",import.meta.url).href;const Z=f("div",{class:"content-wrapper-header",style:{"margin-top":"-10px"}},[f("video",{src:W,autoplay:"",loop:"",muted:"",style:{"border-radius":"14px",width:"100%"}})],-1),q={class:"m-lib"},H={class:"content-section"},_a={__name:"index",setup(y){const v=T(),n=C(()=>v.isLogin),r=M({activeName:"first",buttonList:[{title:"每日推荐",color:"#409EFF"},{title:"最新MV",color:"#FF98A5"},{title:"排行榜",color:"#626aef"},{title:"歌手",color:"#EBA5F0"}],currentPage:1,songTotal:0,tableData:[]}),{activeName:l,buttonList:g,tableData:u}=R(r),d=o=>h(this,null,function*(){switch(r.tableData=[],o.props.label){case"热门歌曲":e();break;case"每日推荐":L().then(({data:a})=>{r.tableData=a.data.dailySongs.map(t=>{const c=t.ar.map(i=>i.name).join(",");return{cover:t.al.picUrl,title:t.name,singer:c,album:t.al.name,time:t.dt,id:t.id,mv:t.mv}})});break}});P(()=>{e()});const e=()=>h(this,null,function*(){U().then(({data:o})=>{r.tableData=o.result.map(a=>{const t=a.song.artists.map(c=>c.name).join(",");return{cover:a.picUrl,title:a.name,singer:t,album:a.song.album.name,time:a.song.duration,id:a.id,mv:a.song.mvid}})})});return(o,a)=>{const t=D,c=F,i=E,V=w;return b(),x("div",null,[Z,f("div",q,[(b(!0),x($,null,j(p(g),(_,B)=>(b(),k(t,{key:B,color:_.color,round:"",class:"m-lib-btn"},{default:m(()=>[G(z(_.title),1)]),_:2},1032,["color"]))),128))]),f("div",H,[s(V,{modelValue:p(l),"onUpdate:modelValue":a[0]||(a[0]=_=>A(l)?l.value=_:null),class:"demo-tabs",onTabClick:d},{default:m(()=>[s(i,{label:"热门歌曲",name:"first"},{default:m(()=>[s(c,{data:p(u)},null,8,["data"])]),_:1}),s(i,{label:"歌单",name:"second"},{default:m(()=>[s(S)]),_:1}),s(i,{label:"MV",name:"third"},{default:m(()=>[s(N)]),_:1}),p(n)?(b(),k(i,{key:0,label:"每日推荐",name:"four"},{default:m(()=>[s(c,{data:p(u)},null,8,["data"])]),_:1})):O("",!0)]),_:1},8,["modelValue"])])])}}};export{_a as default};
