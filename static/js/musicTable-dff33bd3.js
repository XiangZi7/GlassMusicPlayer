import{j as s,q as t,r as e}from"./element-plus-2073bb18.js";import{e as a,h as r}from"./index-63790c63.js";import{f as l}from"./formatTime-d6dfa579.js";import{u as i}from"./vue-router-f9877ca9.js";import{Z as n,a7 as o,o as c,R as d,S as h,U as m,a as p,W as u,u as v,c as w,O as f}from"./@vue-06d7d904.js";const g={style:{display:"flex","align-items":"center"}},x=["onClick"],y={class:"button-wrapper"},b=["onClick"],k=[p("path",{d:"M512 0C230.4 0 0 230.4 0 512s230.4 512 512 512 512-230.4 512-512S793.6 0 512 0z m0 981.333333C253.866667 981.333333 42.666667 770.133333 42.666667 512S253.866667 42.666667 512 42.666667s469.333333 211.2 469.333333 469.333333-211.2 469.333333-469.333333 469.333333z","p-id":"2200",fill:"#525B72"},null,-1),p("path",{d:"M672 441.6l-170.666667-113.066667c-57.6-38.4-106.666667-12.8-106.666666 57.6v256c0 70.4 46.933333 96 106.666666 57.6l170.666667-113.066666c57.6-42.666667 57.6-106.666667 0-145.066667z","p-id":"2201",fill:"#525B72"},null,-1)],z=["onClick"],C=[p("path",{d:"M590.3 532.7l-118 88.5c-9.8 7.3-23.6 5.3-31-4.4-2.9-3.8-4.4-8.5-4.4-13.3v-177c0-12.2 9.9-22.1 22.1-22.1 4.8 0 9.4 1.6 13.3 4.4l118 88.5c9.8 7.3 11.8 21.2 4.4 31-1.2 1.6-2.7 3.1-4.4 4.4zM247.5 205.3h530.9c48.9 0 88.5 39.6 88.5 88.5v442.4c0 48.9-39.6 88.5-88.5 88.5H247.5c-48.9 0-88.5-39.6-88.5-88.5V293.8c0-48.9 39.7-88.5 88.5-88.5z m442.4 44.3H336v530.9h353.9V249.6zM203.3 382.3h88.5V249.6h-44.2c-24.4 0-44.2 19.8-44.2 44.2v88.5z m619.3 0v-88.5c0-24.4-19.8-44.2-44.2-44.2h-44.2v132.7h88.4zM203.3 647.7v88.5c0 24.4 19.8 44.2 44.2 44.2h44.2V647.7h-88.4z m0-44.2h88.5v-177h-88.5v177z m619.3 44.2h-88.5v132.7h44.2c24.4 0 44.2-19.8 44.2-44.2v-88.5z m0-44.2v-177h-88.5v177h88.5z","p-id":"3157",fill:"#525B72"},null,-1)],_={__name:"musicTable",props:{data:{type:Array,default:()=>[]}},emits:["rowdbclick"],setup(_,{emit:j}){const B=_,M=i(),V=a(),I=n({data:[]});o(I);const S=s=>{return t=this,e=null,a=function*(){const t=V.songs.findIndex((t=>t.id==s.id));-1!=t?V.currentIndex=t:r(s).then((({data:t})=>{V.songs.push({title:s.title,singer:s.singer,cover:s.cover,src:t.data[0].url,time:s.time,album:s.album,id:s.id,mv:s.mv}),V.currentIndex=V.songs.length-1}))},new Promise(((s,r)=>{var l=s=>{try{n(a.next(s))}catch(t){r(t)}},i=s=>{try{n(a.throw(s))}catch(t){r(t)}},n=t=>t.done?s(t.value):Promise.resolve(t.value).then(l,i);n((a=a.apply(t,e)).next())}));var t,e,a},q=(s,t,e)=>{S(s)};return(a,r)=>{const i=s,n=t,o=e;return c(),d(o,{data:B.data,style:{width:"100%"},onRowDblclick:q},{default:h((()=>[m(n,{label:"歌曲名",width:"400"},{default:h((s=>[p("div",g,[m(i,{src:s.row.cover+"?param=28y28",style:{"flex-shrink":"0","border-radius":"6px","margin-right":"16px"}},null,8,["src"]),p("span",null,u(s.row.title),1)])])),_:1}),m(n,{label:"歌手"},{default:h((s=>[p("span",{style:{cursor:"pointer"},onClick:t=>v(M).push({path:"/search",query:{keyWorks:s.row.singer}})},u(s.row.singer),9,x)])),_:1}),m(n,{prop:"album",label:"专辑"}),m(n,{label:"时间",width:"120"},{default:h((s=>[p("span",null,u(v(l)(s.row.time)),1)])),_:1}),m(n,{width:"130"},{default:h((s=>[p("div",y,[(c(),w("svg",{t:"1648883741930",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2199",width:"28",height:"28",onClick:t=>S(s.row)},k,8,b)),s.row.mv?(c(),w("svg",{key:0,onClick:t=>v(M).push({name:"mv",params:{id:s.row.mv}}),t:"1648883775602",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3156",width:"40",height:"40"},C,8,z)):f("",!0)])])),_:1})])),_:1},8,["data"])}}};export{_};
