import{a as N,o as P,p as K,q as U}from"./element-plus-kQyFuzXp.js";import{_ as B}from"./songSheet-zUkXzpWO.js";import"./vue-OG_h3pua.js";import{d as M,ar as b,o as n,c as _,U as x,a6 as w,a as i,e as d,Y as y,$ as E,af as I,w as L,b as v,V as l,u as t,G as f,T as C}from"./@vue-Ply1w2vD.js";import{_ as k,c as S}from"./index-dZjLSCIw.js";import{b as q}from"./vue-router-w9G4URzI.js";import"./@element-plus-myGFqmAE.js";import"./@vueuse-O23BbR0F.js";import"./lodash-es-DA4vajO2.js";import"./@ctrl--dareiTT.js";import"./@popperjs-NiN61gaS.js";import"./memoize-one-JaOscZgY.js";import"./useIntersectionObserver-P1fADLvi.js";import"./pinia-MSClEXYU.js";import"./axios-52F-EHG1.js";import"./nprogress-8aEWLQce.js";import"./@babel-3yCADe9Y.js";import"./pinia-plugin-persistedstate-XbYvz584.js";const R={class:"playlist mt-2"},D={class:"cover"},F={class:"title"},G={class:"artist"},Q=M({__name:"ASongList",props:{modelValue:{type:Array},modelModifiers:{}},emits:["update:modelValue"],setup(p){const c=b(p,"modelValue");return(a,r)=>{const o=N;return n(),_("div",R,[(n(!0),_(x,null,w(c.value,s=>(n(),_("div",{key:s.id,class:"song"},[i("div",D,[d(o,{src:s.coverImgUrl+"?param=450y450",alt:s.name},null,8,["src","alt"])]),i("div",F,y(s.name),1),i("div",G,y(s.creator.nickname),1)]))),128))])}}}),Y=k(Q,[["__scopeId","data-v-a296107f"],["__file","/home/runner/work/KM-Music-Player/KM-Music-Player/src/pages/search/components/ASongList.vue"]]),j={class:"mvlist mt-2"},z={class:"cover"},H=["src"],J={class:"title"},O={class:"artist"},W=M({__name:"AMV",props:{modelValue:{type:Array},modelModifiers:{}},emits:["update:modelValue"],setup(p){const c=b(p,"modelValue");return(a,r)=>(n(),_("div",j,[(n(!0),_(x,null,w(c.value,o=>(n(),_("div",{key:o.id,class:"mv"},[i("div",z,[i("img",{src:o.cover+"?param=500y250",alt:"mv 1 Title"},null,8,H)]),i("div",J,y(o.name),1),i("div",O,y(o.artistName),1)]))),128))]))}}),X=k(W,[["__scopeId","data-v-7428fe7b"],["__file","/home/runner/work/KM-Music-Player/KM-Music-Player/src/pages/search/components/AMV.vue"]]),Z=i("label",null,"歌曲",-1),ee=i("label",null,"歌单",-1),oe=i("label",null,"MV",-1),te=M({__name:"index",setup(p){const c=q(),a=E({activeName:"1",list:[],songTotal:{songCount:0,playlistCount:0,mvCount:0}}),{songTotal:r,list:o,activeName:s}=I(a);function g(V){S({kw:c.query.kw,type:a.activeName,offset:V}).then(({result:e})=>{if(e){const m=e.songs||e.playlists||e.mvs||[];a.list=V?a.list.concat(m):a.list=m,e.songCount!==void 0&&(a.songTotal.songCount=e.songCount),e.playlistCount!==void 0&&(a.songTotal.playlistCount=e.playlistCount),e.mvCount!==void 0&&(a.songTotal.mvCount=e.mvCount)}else console.error("result is undefined. Cannot proceed.")}).catch(e=>{console.error("An error occurred:",e)})}function T(){a.list=[],g()}return L(()=>c.query.kw,()=>{a.list=[],g()},{immediate:!0}),(V,e)=>{const m=K,$=B,h=U,A=P;return n(),v(A,{modelValue:t(s),"onUpdate:modelValue":e[3]||(e[3]=u=>f(s)?s.value=u:null),onTabClick:T},{default:l(()=>[d(h,{name:"1"},{label:l(()=>[d(m,{hidden:t(r).songCount==0,value:t(r).songCount,max:99,type:"primary"},{default:l(()=>[Z]),_:1},8,["hidden","value"])]),default:l(()=>[t(s)=="1"?(n(),v($,{key:0,modelValue:t(o),"onUpdate:modelValue":e[0]||(e[0]=u=>f(o)?o.value=u:null),onQuery:g},null,8,["modelValue"])):C("",!0)]),_:1}),d(h,{name:"1000"},{label:l(()=>[d(m,{hidden:t(r).playlistCount==0,value:t(r).playlistCount,max:99,type:"primary"},{default:l(()=>[ee]),_:1},8,["hidden","value"])]),default:l(()=>[t(s)=="1000"?(n(),v(Y,{key:0,modelValue:t(o),"onUpdate:modelValue":e[1]||(e[1]=u=>f(o)?o.value=u:null)},null,8,["modelValue"])):C("",!0)]),_:1}),d(h,{name:"1004"},{label:l(()=>[d(m,{hidden:t(r).mvCount==0,value:t(r).mvCount,max:99,type:"primary"},{default:l(()=>[oe]),_:1},8,["hidden","value"])]),default:l(()=>[t(s)=="1004"?(n(),v(X,{key:0,modelValue:t(o),"onUpdate:modelValue":e[2]||(e[2]=u=>f(o)?o.value=u:null)},null,8,["modelValue"])):C("",!0)]),_:1})]),_:1},8,["modelValue"])}}}),Ce=k(te,[["__file","/home/runner/work/KM-Music-Player/KM-Music-Player/src/pages/search/index.vue"]]);export{Ce as default};
