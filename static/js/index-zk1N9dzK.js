var it=Object.defineProperty,ct=Object.defineProperties;var ut=Object.getOwnPropertyDescriptors;var Ne=Object.getOwnPropertySymbols;var dt=Object.prototype.hasOwnProperty,ht=Object.prototype.propertyIsEnumerable;var Fe=(e,n,o)=>n in e?it(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,ae=(e,n)=>{for(var o in n||(n={}))dt.call(n,o)&&Fe(e,o,n[o]);if(Ne)for(var o of Ne(n))ht.call(n,o)&&Fe(e,o,n[o]);return e},le=(e,n)=>ct(e,ut(n));var re=(e,n,o)=>new Promise((t,l)=>{var s=r=>{try{c(o.next(r))}catch(u){l(u)}},a=r=>{try{c(o.throw(r))}catch(u){l(u)}},c=r=>r.done?t(r.value):Promise.resolve(r.value).then(s,a);c((o=o.apply(e,n)).next())});import{S as Ue,T as je,aL as ft,J as Te,X as q,L as $,b as Y,B as I,K as S,bs as Ae,bt as ge,a1 as ne,d as D,o as M,c as N,a as m,O as k,g as i,$ as P,a0 as G,a$ as vt,ae as me,ag as ie,bu as ce,bd as pt,aX as Ie,V as mt,bc as bt,F as Xe,k as qe,b3 as gt,b4 as _t,aN as kt,bv as $t,b5 as Ct,b6 as yt,r as wt,ba as Et,Y as O,ab as Mt,m as ue,w as B,z as Le,f as F,q as de,bw as St,E as Ve,l as te,h as Pe,x as Q,a5 as He,b8 as Nt,al as De,a8 as Ft,be as Tt,bb as Be,a9 as he,am as At,aR as It,W as Lt,bx as Vt,by as Oe,bz as Pt,_ as Ht,bA as Dt,bB as xe,bC as Bt,n as Ot,p as xt,j as Kt}from"./index-xuQRkY2E.js";import{E as Rt}from"./el-switch-voE-UNE-.js";import{C as Wt}from"./index-fwo5Qbwy.js";const zt=Ue({color:{type:je(Object),required:!0},vertical:{type:Boolean,default:!1}});let fe=!1;function X(e,n){if(!ft)return;const o=function(s){var a;(a=n.drag)==null||a.call(n,s)},t=function(s){var a;document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",t),document.removeEventListener("touchmove",o),document.removeEventListener("touchend",t),document.onselectstart=null,document.ondragstart=null,fe=!1,(a=n.end)==null||a.call(n,s)},l=function(s){var a;fe||(s.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",o),document.addEventListener("mouseup",t),document.addEventListener("touchmove",o),document.addEventListener("touchend",t),fe=!0,(a=n.start)==null||a.call(n,s))};e.addEventListener("mousedown",l),e.addEventListener("touchstart",l)}const Ut=e=>{const n=ne(),o=Te(),t=Te();function l(a){a.target!==o.value&&s(a)}function s(a){if(!t.value||!o.value)return;const r=n.vnode.el.getBoundingClientRect(),{clientX:u,clientY:p}=ge(a);if(e.vertical){let d=p-r.top;d=Math.max(o.value.offsetHeight/2,d),d=Math.min(d,r.height-o.value.offsetHeight/2),e.color.set("alpha",Math.round((d-o.value.offsetHeight/2)/(r.height-o.value.offsetHeight)*100))}else{let d=u-r.left;d=Math.max(o.value.offsetWidth/2,d),d=Math.min(d,r.width-o.value.offsetWidth/2),e.color.set("alpha",Math.round((d-o.value.offsetWidth/2)/(r.width-o.value.offsetWidth)*100))}}return{thumb:o,bar:t,handleDrag:s,handleClick:l}},jt=(e,{bar:n,thumb:o,handleDrag:t})=>{const l=ne(),s=q("color-alpha-slider"),a=$(0),c=$(0),r=$();function u(){if(!o.value||e.vertical)return 0;const w=l.vnode.el,_=e.color.get("alpha");return w?Math.round(_*(w.offsetWidth-o.value.offsetWidth/2)/100):0}function p(){if(!o.value)return 0;const w=l.vnode.el;if(!e.vertical)return 0;const _=e.color.get("alpha");return w?Math.round(_*(w.offsetHeight-o.value.offsetHeight/2)/100):0}function d(){if(e.color&&e.color.value){const{r:w,g:_,b:J}=e.color.toRgb();return`linear-gradient(to right, rgba(${w}, ${_}, ${J}, 0) 0%, rgba(${w}, ${_}, ${J}, 1) 100%)`}return""}function b(){a.value=u(),c.value=p(),r.value=d()}Y(()=>{if(!n.value||!o.value)return;const w={drag:_=>{t(_)},end:_=>{t(_)}};X(n.value,w),X(o.value,w),b()}),I(()=>e.color.get("alpha"),()=>b()),I(()=>e.color.value,()=>b());const f=S(()=>[s.b(),s.is("vertical",e.vertical)]),v=S(()=>s.e("bar")),g=S(()=>s.e("thumb")),C=S(()=>({background:r.value})),L=S(()=>({left:Ae(a.value),top:Ae(c.value)}));return{rootKls:f,barKls:v,barStyle:C,thumbKls:g,thumbStyle:L,update:b}},Xt="ElColorAlphaSlider",qt=D({name:Xt}),Yt=D(le(ae({},qt),{props:zt,setup(e,{expose:n}){const o=e,{bar:t,thumb:l,handleDrag:s,handleClick:a}=Ut(o),{rootKls:c,barKls:r,barStyle:u,thumbKls:p,thumbStyle:d,update:b}=jt(o,{bar:t,thumb:l,handleDrag:s});return n({update:b,bar:t,thumb:l}),(f,v)=>(M(),N("div",{class:k(i(c))},[m("div",{ref_key:"bar",ref:t,class:k(i(r)),style:P(i(u)),onClick:v[0]||(v[0]=(...g)=>i(a)&&i(a)(...g))},null,6),m("div",{ref_key:"thumb",ref:l,class:k(i(p)),style:P(i(d))},null,6)],2))}}));var Gt=G(Yt,[["__file","alpha-slider.vue"]]);const Jt=D({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(e){const n=q("color-hue-slider"),o=ne(),t=$(),l=$(),s=$(0),a=$(0),c=S(()=>e.color.get("hue"));I(()=>c.value,()=>{b()});function r(f){f.target!==t.value&&u(f)}function u(f){if(!l.value||!t.value)return;const g=o.vnode.el.getBoundingClientRect(),{clientX:C,clientY:L}=ge(f);let w;if(e.vertical){let _=L-g.top;_=Math.min(_,g.height-t.value.offsetHeight/2),_=Math.max(t.value.offsetHeight/2,_),w=Math.round((_-t.value.offsetHeight/2)/(g.height-t.value.offsetHeight)*360)}else{let _=C-g.left;_=Math.min(_,g.width-t.value.offsetWidth/2),_=Math.max(t.value.offsetWidth/2,_),w=Math.round((_-t.value.offsetWidth/2)/(g.width-t.value.offsetWidth)*360)}e.color.set("hue",w)}function p(){if(!t.value)return 0;const f=o.vnode.el;if(e.vertical)return 0;const v=e.color.get("hue");return f?Math.round(v*(f.offsetWidth-t.value.offsetWidth/2)/360):0}function d(){if(!t.value)return 0;const f=o.vnode.el;if(!e.vertical)return 0;const v=e.color.get("hue");return f?Math.round(v*(f.offsetHeight-t.value.offsetHeight/2)/360):0}function b(){s.value=p(),a.value=d()}return Y(()=>{if(!l.value||!t.value)return;const f={drag:v=>{u(v)},end:v=>{u(v)}};X(l.value,f),X(t.value,f),b()}),{bar:l,thumb:t,thumbLeft:s,thumbTop:a,hueValue:c,handleClick:r,update:b,ns:n}}});function Zt(e,n,o,t,l,s){return M(),N("div",{class:k([e.ns.b(),e.ns.is("vertical",e.vertical)])},[m("div",{ref:"bar",class:k(e.ns.e("bar")),onClick:n[0]||(n[0]=(...a)=>e.handleClick&&e.handleClick(...a))},null,2),m("div",{ref:"thumb",class:k(e.ns.e("thumb")),style:P({left:e.thumbLeft+"px",top:e.thumbTop+"px"})},null,6)],2)}var Qt=G(Jt,[["render",Zt],["__file","hue-slider.vue"]]);const en=Ue({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:vt,popperClass:{type:String,default:""},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},predefine:{type:je(Array)},validateEvent:{type:Boolean,default:!0}}),tn={[me]:e=>ie(e)||ce(e),[pt]:e=>ie(e)||ce(e),activeChange:e=>ie(e)||ce(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent},Ye=Symbol("colorPickerContextKey"),Ke=function(e,n,o){return[e,n*o/((e=(2-n)*o)<1?e:2-e)||0,e/2]},nn=function(e){return typeof e=="string"&&e.includes(".")&&Number.parseFloat(e)===1},on=function(e){return typeof e=="string"&&e.includes("%")},x=function(e,n){nn(e)&&(e="100%");const o=on(e);return e=Math.min(n,Math.max(0,Number.parseFloat(`${e}`))),o&&(e=Number.parseInt(`${e*n}`,10)/100),Math.abs(e-n)<1e-6?1:e%n/Number.parseFloat(n)},Re={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},ee=e=>{e=Math.min(Math.round(e),255);const n=Math.floor(e/16),o=e%16;return`${Re[n]||n}${Re[o]||o}`},We=function({r:e,g:n,b:o}){return Number.isNaN(+e)||Number.isNaN(+n)||Number.isNaN(+o)?"":`#${ee(e)}${ee(n)}${ee(o)}`},ve={A:10,B:11,C:12,D:13,E:14,F:15},H=function(e){return e.length===2?(ve[e[0].toUpperCase()]||+e[0])*16+(ve[e[1].toUpperCase()]||+e[1]):ve[e[1].toUpperCase()]||+e[1]},sn=function(e,n,o){n=n/100,o=o/100;let t=n;const l=Math.max(o,.01);o*=2,n*=o<=1?o:2-o,t*=l<=1?l:2-l;const s=(o+n)/2,a=o===0?2*t/(l+t):2*n/(o+n);return{h:e,s:a*100,v:s*100}},ze=(e,n,o)=>{e=x(e,255),n=x(n,255),o=x(o,255);const t=Math.max(e,n,o),l=Math.min(e,n,o);let s;const a=t,c=t-l,r=t===0?0:c/t;if(t===l)s=0;else{switch(t){case e:{s=(n-o)/c+(n<o?6:0);break}case n:{s=(o-e)/c+2;break}case o:{s=(e-n)/c+4;break}}s/=6}return{h:s*360,s:r*100,v:a*100}},U=function(e,n,o){e=x(e,360)*6,n=x(n,100),o=x(o,100);const t=Math.floor(e),l=e-t,s=o*(1-n),a=o*(1-l*n),c=o*(1-(1-l)*n),r=t%6,u=[o,a,s,s,c,o][r],p=[c,o,o,a,s,s][r],d=[s,s,c,o,o,a][r];return{r:Math.round(u*255),g:Math.round(p*255),b:Math.round(d*255)}};class j{constructor(n={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const o in n)Ie(n,o)&&(this[o]=n[o]);n.value?this.fromString(n.value):this.doOnChange()}set(n,o){if(arguments.length===1&&typeof n=="object"){for(const t in n)Ie(n,t)&&this.set(t,n[t]);return}this[`_${n}`]=o,this.doOnChange()}get(n){return n==="alpha"?Math.floor(this[`_${n}`]):this[`_${n}`]}toRgb(){return U(this._hue,this._saturation,this._value)}fromString(n){if(!n){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const o=(t,l,s)=>{this._hue=Math.max(0,Math.min(360,t)),this._saturation=Math.max(0,Math.min(100,l)),this._value=Math.max(0,Math.min(100,s)),this.doOnChange()};if(n.includes("hsl")){const t=n.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(l=>l!=="").map((l,s)=>s>2?Number.parseFloat(l):Number.parseInt(l,10));if(t.length===4?this._alpha=Number.parseFloat(t[3])*100:t.length===3&&(this._alpha=100),t.length>=3){const{h:l,s,v:a}=sn(t[0],t[1],t[2]);o(l,s,a)}}else if(n.includes("hsv")){const t=n.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(l=>l!=="").map((l,s)=>s>2?Number.parseFloat(l):Number.parseInt(l,10));t.length===4?this._alpha=Number.parseFloat(t[3])*100:t.length===3&&(this._alpha=100),t.length>=3&&o(t[0],t[1],t[2])}else if(n.includes("rgb")){const t=n.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(l=>l!=="").map((l,s)=>s>2?Number.parseFloat(l):Number.parseInt(l,10));if(t.length===4?this._alpha=Number.parseFloat(t[3])*100:t.length===3&&(this._alpha=100),t.length>=3){const{h:l,s,v:a}=ze(t[0],t[1],t[2]);o(l,s,a)}}else if(n.includes("#")){const t=n.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(t))return;let l,s,a;t.length===3?(l=H(t[0]+t[0]),s=H(t[1]+t[1]),a=H(t[2]+t[2])):(t.length===6||t.length===8)&&(l=H(t.slice(0,2)),s=H(t.slice(2,4)),a=H(t.slice(4,6))),t.length===8?this._alpha=H(t.slice(6))/255*100:(t.length===3||t.length===6)&&(this._alpha=100);const{h:c,s:r,v:u}=ze(l,s,a);o(c,r,u)}}compare(n){return Math.abs(n._hue-this._hue)<2&&Math.abs(n._saturation-this._saturation)<1&&Math.abs(n._value-this._value)<1&&Math.abs(n._alpha-this._alpha)<1}doOnChange(){const{_hue:n,_saturation:o,_value:t,_alpha:l,format:s}=this;if(this.enableAlpha)switch(s){case"hsl":{const a=Ke(n,o/100,t/100);this.value=`hsla(${n}, ${Math.round(a[1]*100)}%, ${Math.round(a[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${n}, ${Math.round(o)}%, ${Math.round(t)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${We(U(n,o,t))}${ee(l*255/100)}`;break}default:{const{r:a,g:c,b:r}=U(n,o,t);this.value=`rgba(${a}, ${c}, ${r}, ${this.get("alpha")/100})`}}else switch(s){case"hsl":{const a=Ke(n,o/100,t/100);this.value=`hsl(${n}, ${Math.round(a[1]*100)}%, ${Math.round(a[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${n}, ${Math.round(o)}%, ${Math.round(t)}%)`;break}case"rgb":{const{r:a,g:c,b:r}=U(n,o,t);this.value=`rgb(${a}, ${c}, ${r})`;break}default:this.value=We(U(n,o,t))}}}const an=D({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(e){const n=q("color-predefine"),{currentColor:o}=mt(Ye),t=$(s(e.colors,e.color));I(()=>o.value,a=>{const c=new j;c.fromString(a),t.value.forEach(r=>{r.selected=c.compare(r)})}),bt(()=>{t.value=s(e.colors,e.color)});function l(a){e.color.fromString(e.colors[a])}function s(a,c){return a.map(r=>{const u=new j;return u.enableAlpha=!0,u.format="rgba",u.fromString(r),u.selected=u.value===c.value,u})}return{rgbaColors:t,handleSelect:l,ns:n}}}),ln=["onClick"];function rn(e,n,o,t,l,s){return M(),N("div",{class:k(e.ns.b())},[m("div",{class:k(e.ns.e("colors"))},[(M(!0),N(Xe,null,qe(e.rgbaColors,(a,c)=>(M(),N("div",{key:e.colors[c],class:k([e.ns.e("color-selector"),e.ns.is("alpha",a._alpha<100),{selected:a.selected}]),onClick:r=>e.handleSelect(c)},[m("div",{style:P({backgroundColor:a.value})},null,4)],10,ln))),128))],2)],2)}var cn=G(an,[["render",rn],["__file","predefine.vue"]]);const un=D({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(e){const n=q("color-svpanel"),o=ne(),t=$(0),l=$(0),s=$("hsl(0, 100%, 50%)"),a=S(()=>{const u=e.color.get("hue"),p=e.color.get("value");return{hue:u,value:p}});function c(){const u=e.color.get("saturation"),p=e.color.get("value"),d=o.vnode.el,{clientWidth:b,clientHeight:f}=d;l.value=u*b/100,t.value=(100-p)*f/100,s.value=`hsl(${e.color.get("hue")}, 100%, 50%)`}function r(u){const d=o.vnode.el.getBoundingClientRect(),{clientX:b,clientY:f}=ge(u);let v=b-d.left,g=f-d.top;v=Math.max(0,v),v=Math.min(v,d.width),g=Math.max(0,g),g=Math.min(g,d.height),l.value=v,t.value=g,e.color.set({saturation:v/d.width*100,value:100-g/d.height*100})}return I(()=>a.value,()=>{c()}),Y(()=>{X(o.vnode.el,{drag:u=>{r(u)},end:u=>{r(u)}}),c()}),{cursorTop:t,cursorLeft:l,background:s,colorValue:a,handleDrag:r,update:c,ns:n}}}),dn=m("div",null,null,-1),hn=[dn];function fn(e,n,o,t,l,s){return M(),N("div",{class:k(e.ns.b()),style:P({backgroundColor:e.background})},[m("div",{class:k(e.ns.e("white"))},null,2),m("div",{class:k(e.ns.e("black"))},null,2),m("div",{class:k(e.ns.e("cursor")),style:P({top:e.cursorTop+"px",left:e.cursorLeft+"px"})},hn,6)],6)}var vn=G(un,[["render",fn],["__file","sv-panel.vue"]]);const pn=["onKeydown"],mn=["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex"],bn=D({name:"ElColorPicker"}),gn=D(le(ae({},bn),{props:en,emits:tn,setup(e,{expose:n,emit:o}){const t=e,{t:l}=gt(),s=q("color"),{formItem:a}=_t(),c=kt(),r=$t(),{inputId:u,isLabeledByFormItem:p}=Ct(t,{formItemContext:a}),d=$(),b=$(),f=$(),v=$(),g=$(),C=$(),{isFocused:L,handleFocus:w,handleBlur:_}=yt(g,{beforeBlur(h){var y;return(y=v.value)==null?void 0:y.isFocusInsideContent(h)},afterBlur(){W(!1),z()}}),J=h=>{if(r.value)return Ee();w(h)};let oe=!0;const E=wt(new j({enableAlpha:t.showAlpha,format:t.colorFormat||"",value:t.modelValue})),K=$(!1),V=$(!1),R=$(""),Je=S(()=>!t.modelValue&&!V.value?"transparent":tt(E,t.showAlpha)),se=S(()=>!t.modelValue&&!V.value?"":E.value),Ze=S(()=>p.value?void 0:t.label||l("el.colorpicker.defaultLabel")),Qe=S(()=>p.value?a==null?void 0:a.labelId:void 0),et=S(()=>[s.b("picker"),s.is("disabled",r.value),s.bm("picker",c.value),s.is("focused",L.value)]);function tt(h,y){if(!(h instanceof j))throw new TypeError("color should be instance of _color Class");const{r:A,g:Me,b:Se}=h.toRgb();return y?`rgba(${A}, ${Me}, ${Se}, ${h.get("alpha")/100})`:`rgb(${A}, ${Me}, ${Se})`}function W(h){K.value=h}const Z=Et(W,100,{leading:!0});function $e(){r.value||W(!0)}function Ce(){Z(!1),z()}function z(){O(()=>{t.modelValue?E.fromString(t.modelValue):(E.value="",O(()=>{V.value=!1}))})}function nt(){r.value||Z(!K.value)}function ye(){E.fromString(R.value)}function ot(){const h=E.value;o(me,h),o("change",h),t.validateEvent&&(a==null||a.validate("change").catch(y=>Be(y))),Z(!1),O(()=>{const y=new j({enableAlpha:t.showAlpha,format:t.colorFormat||"",value:t.modelValue});E.compare(y)||z()})}function st(){Z(!1),o(me,null),o("change",null),t.modelValue!==null&&t.validateEvent&&(a==null||a.validate("change").catch(h=>Be(h))),z()}function at(h){if(K.value&&(Ce(),L.value)){const y=new FocusEvent("focus",h);_(y)}}function we(h){h.preventDefault(),h.stopPropagation(),W(!1),z()}function lt(h){switch(h.code){case he.enter:case he.space:h.preventDefault(),h.stopPropagation(),$e(),C.value.focus();break;case he.esc:we(h);break}}function rt(){g.value.focus()}function Ee(){g.value.blur()}return Y(()=>{t.modelValue&&(R.value=se.value)}),I(()=>t.modelValue,h=>{h?h&&h!==E.value&&(oe=!1,E.fromString(h)):V.value=!1}),I(()=>se.value,h=>{R.value=h,oe&&o("activeChange",h),oe=!0}),I(()=>E.value,()=>{!t.modelValue&&!V.value&&(V.value=!0)}),I(()=>K.value,()=>{O(()=>{var h,y,A;(h=d.value)==null||h.update(),(y=b.value)==null||y.update(),(A=f.value)==null||A.update()})}),Mt(Ye,{currentColor:se}),n({color:E,show:$e,hide:Ce,focus:rt,blur:Ee}),(h,y)=>(M(),ue(i(Tt),{ref_key:"popper",ref:v,visible:K.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[i(s).be("picker","panel"),i(s).b("dropdown"),h.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",transition:`${i(s).namespace.value}-zoom-in-top`,persistent:"",onHide:y[2]||(y[2]=A=>W(!1))},{content:B(()=>[Q((M(),N("div",{onKeydown:Le(we,["esc"])},[m("div",{class:k(i(s).be("dropdown","main-wrapper"))},[F(Qt,{ref_key:"hue",ref:d,class:"hue-slider",color:i(E),vertical:""},null,8,["color"]),F(vn,{ref_key:"sv",ref:b,color:i(E)},null,8,["color"])],2),h.showAlpha?(M(),ue(Gt,{key:0,ref_key:"alpha",ref:f,color:i(E)},null,8,["color"])):de("v-if",!0),h.predefine?(M(),ue(cn,{key:1,ref:"predefine",color:i(E),colors:h.predefine},null,8,["color","colors"])):de("v-if",!0),m("div",{class:k(i(s).be("dropdown","btns"))},[m("span",{class:k(i(s).be("dropdown","value"))},[F(i(St),{ref_key:"inputRef",ref:C,modelValue:R.value,"onUpdate:modelValue":y[0]||(y[0]=A=>R.value=A),"validate-event":!1,size:"small",onKeyup:Le(ye,["enter"]),onBlur:ye},null,8,["modelValue","onKeyup"])],2),F(i(Ve),{class:k(i(s).be("dropdown","link-btn")),text:"",size:"small",onClick:st},{default:B(()=>[Pe(te(i(l)("el.colorpicker.clear")),1)]),_:1},8,["class"]),F(i(Ve),{plain:"",size:"small",class:k(i(s).be("dropdown","btn")),onClick:ot},{default:B(()=>[Pe(te(i(l)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,pn)),[[i(Wt),at]])]),default:B(()=>[m("div",{id:i(u),ref_key:"triggerRef",ref:g,class:k(i(et)),role:"button","aria-label":i(Ze),"aria-labelledby":i(Qe),"aria-description":i(l)("el.colorpicker.description",{color:h.modelValue||""}),"aria-disabled":i(r),tabindex:i(r)?-1:h.tabindex,onKeydown:lt,onFocus:J,onBlur:y[1]||(y[1]=(...A)=>i(_)&&i(_)(...A))},[i(r)?(M(),N("div",{key:0,class:k(i(s).be("picker","mask"))},null,2)):de("v-if",!0),m("div",{class:k(i(s).be("picker","trigger")),onClick:nt},[m("span",{class:k([i(s).be("picker","color"),i(s).is("alpha",h.showAlpha)])},[m("span",{class:k(i(s).be("picker","color-inner")),style:P({backgroundColor:i(Je)})},[Q(F(i(He),{class:k([i(s).be("picker","icon"),i(s).is("icon-arrow-down")])},{default:B(()=>[F(i(Nt))]),_:1},8,["class"]),[[De,h.modelValue||V.value]]),Q(F(i(He),{class:k([i(s).be("picker","empty"),i(s).is("icon-close")])},{default:B(()=>[F(i(Ft))]),_:1},8,["class"]),[[De,!h.modelValue&&!V.value]])],6)],2)],2)],42,mn)]),_:1},8,["visible","popper-class","transition"]))}}));var _n=G(gn,[["__file","color-picker.vue"]]);const kn=At(_n),T="ElInfiniteScroll",$n=50,Cn=200,yn=0,wn={delay:{type:Number,default:Cn},distance:{type:Number,default:yn},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},_e=(e,n)=>Object.entries(wn).reduce((o,[t,l])=>{var s,a;const{type:c,default:r}=l,u=e.getAttribute(`infinite-scroll-${t}`);let p=(a=(s=n[u])!=null?s:u)!=null?a:r;return p=p==="false"?!1:p,p=c(p),o[t]=Number.isNaN(p)?r:p,o},{}),Ge=e=>{const{observer:n}=e[T];n&&(n.disconnect(),delete e[T].observer)},En=(e,n)=>{const{container:o,containerEl:t,instance:l,observer:s,lastScrollTop:a}=e[T],{disabled:c,distance:r}=_e(e,l),{clientHeight:u,scrollHeight:p,scrollTop:d}=t,b=d-a;if(e[T].lastScrollTop=d,s||c||b<0)return;let f=!1;if(o===e)f=p-(u+d)<=r;else{const{clientTop:v,scrollHeight:g}=e,C=Pt(e,t);f=d+u>=C+v+g-r}f&&n.call(l)};function pe(e,n){const{containerEl:o,instance:t}=e[T],{disabled:l}=_e(e,t);l||o.clientHeight===0||(o.scrollHeight<=o.clientHeight?n.call(t):Ge(e))}const Mn={mounted(e,n){return re(this,null,function*(){const{instance:o,value:t}=n;It(t)||Lt(T,"'v-infinite-scroll' binding value must be a function"),yield O();const{delay:l,immediate:s}=_e(e,o),a=Vt(e,!0),c=a===window?document.documentElement:a,r=Oe(En.bind(null,e,t),l);if(a){if(e[T]={instance:o,container:a,containerEl:c,delay:l,cb:t,onScroll:r,lastScrollTop:c.scrollTop},s){const u=new MutationObserver(Oe(pe.bind(null,e,t),$n));e[T].observer=u,u.observe(e,{childList:!0,subtree:!0}),pe(e,t)}a.addEventListener("scroll",r)}})},unmounted(e){const{container:n,onScroll:o}=e[T];n==null||n.removeEventListener("scroll",o),Ge(e)},updated(e){return re(this,null,function*(){if(!e[T])yield O();else{const{containerEl:n,cb:o,observer:t}=e[T];n.clientHeight&&t&&pe(e,o)}})}},be=Mn;be.install=e=>{e.directive("InfiniteScroll",be)};const Sn=be,ke=e=>(xt("data-v-3d10332d"),e=e(),Kt(),e),Nn={class:"list-container"},Fn={class:"list-item"},Tn=ke(()=>m("div",{class:"list-title"},"黑暗模式",-1)),An={class:"list-content"},In={class:"list-item"},Ln=ke(()=>m("div",{class:"list-title"},"主题颜色",-1)),Vn={class:"list-content"},Pn={class:"card-color"},Hn=["onClick"],Dn={class:"color-item"},Bn={class:"text-[14px] text-ellipsis text-[var(--prism-color)]"},On={class:"list-item"},xn=ke(()=>m("div",{class:"list-title"},"自定义",-1)),Kn={class:"list-content"},Rn={__name:"index",setup(e){const n=Dt(),{switchDark:o}=xe(),{changePrimary:t}=xe(),l=$(n.isDark),s=$([]);function a(){n.setIsDark(!n.isDark),o()}Y(()=>{Bt({method:"get",url:"https://mock.mengxuegu.com/mock/634f6425369a770d74bbf7b9/example/colorsList"}).then(({data:d})=>{s.value=d})});function c(){}function r(d){n.setPrimary(d),t(d)}const u=d=>{const b=p(d);t(b)};function p(d){const b=/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)$/,f=d.match(b);if(!f)throw new Error("Invalid RGBA string");const v=parseInt(f[1],10),g=parseInt(f[2],10),C=parseInt(f[3],10);return`#${((1<<24)+(v<<16)+(g<<8)+C).toString(16).slice(1)}`}return(d,b)=>{const f=Rt,v=kn,g=Sn;return M(),N("div",Nn,[m("div",Fn,[Tn,m("div",An,[F(f,{modelValue:i(l),"onUpdate:modelValue":b[0]||(b[0]=C=>Ot(l)?l.value=C:null),onChange:a},null,8,["modelValue"])])]),m("div",In,[Ln,m("div",Vn,[Q((M(),N("div",Pn,[(M(!0),N(Xe,null,qe(i(s),C=>(M(),N("div",{key:C.hex,class:"cards-item",onClick:L=>r(C.hex)},[m("div",Dn,[m("div",{style:P({backgroundColor:C.hex})},null,4)]),m("span",Bn,te(C.name)+"("+te(C.pinyin)+")",1)],8,Hn))),128))])),[[g,c]])])]),m("div",On,[xn,m("div",Kn,[F(v,{modelValue:i(n).primary,"onUpdate:modelValue":b[1]||(b[1]=C=>i(n).primary=C),"show-alpha":"",onChange:u},null,8,["modelValue"])])])])}}},Xn=Ht(Rn,[["__scopeId","data-v-3d10332d"],["__file","/home/runner/work/KM-Music-Player/KM-Music-Player/src/pages/theme/index.vue"]]);export{Xn as default};
