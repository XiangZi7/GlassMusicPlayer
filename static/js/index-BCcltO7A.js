import{d as e,r as a,_ as r,b as l,e as t,f as s,i as o,w as d,F as n,k as c,l as i,u,J as p,o as m,X as v,h as y,m as g}from"./index-DANx4g5m.js";const h={class:"flex gap-4 mb-6"};const f=r(e({__name:"FilterSelect",props:{areas:{type:Array,required:!0},types:{type:Array,required:!0},orders:{type:Array,required:!0}},emits:["change"],setup(e,{expose:r,emit:l}){r();const t=e,s=l,o=a(t.areas[0]),d=a(t.types[0]),n=a(t.orders[0]);const c={props:t,emit:s,selectedArea:o,selectedType:d,selectedOrder:n,onChange:function(){s("change",{area:o.value,type:d.value,order:n.value})}};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}}),[["render",function(e,a,r,u,p,m){const v=l("el-option"),y=l("el-select");return t(),s("div",h,[o(y,{modelValue:u.selectedArea,"onUpdate:modelValue":a[0]||(a[0]=e=>u.selectedArea=e),placeholder:"选择地区",onChange:u.onChange},{default:d((()=>[(t(!0),s(n,null,c(r.areas,(e=>(t(),i(v,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),o(y,{modelValue:u.selectedType,"onUpdate:modelValue":a[1]||(a[1]=e=>u.selectedType=e),placeholder:"选择类型",onChange:u.onChange},{default:d((()=>[(t(!0),s(n,null,c(r.types,(e=>(t(),i(v,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),o(y,{modelValue:u.selectedOrder,"onUpdate:modelValue":a[2]||(a[2]=e=>u.selectedOrder=e),placeholder:"选择排序",onChange:u.onChange},{default:d((()=>[(t(!0),s(n,null,c(r.orders,(e=>(t(),i(v,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])}],["__file","/home/runner/work/KMMusicPlayer/KMMusicPlayer/src/views/discover/mv/components/FilterSelect.vue"]]),b={class:"container mx-auto p-4"},_={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},x=["onClick"],V={class:"p-0"},M={class:"relative"},w=["src"],C={class:"p-4"},S=["title"],k={class:"text-sm text-muted-foreground mb-2"},P={class:"text-xs text-muted-foreground"};const A=r(e({__name:"index",setup(e,{expose:r}){r();const l=u(),t=["全部","内地","港台","欧美","日本","韩国"],s=["全部","官方版","原生","现场版","网易出品"],o=["上升最快","最热","最新"],d=a([]),n=a([]);function c(e){i({pageNum:e,area:t[0],type:s[0],order:o[0]})}async function i(e){const a={area:e.area,type:e.type,order:e.order,limit:e.pageNum},r=await v(a);d.value=r.data}p(n,{initialPageNum:2,pageSize:10,threshold:.1},c),m((()=>{i({area:t[0],type:s[0],order:o[0]})}));const y={router:l,areas:t,types:s,orders:o,MVS:d,observedElement:n,handleIntersect:c,fetchMVs:i,FilterSelect:f};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}}),[["render",function(e,a,r,l,d,i){return t(),s("div",b,[o(l.FilterSelect,{areas:l.areas,types:l.types,orders:l.orders,onChange:l.fetchMVs}),y("div",_,[(t(!0),s(n,null,c(l.MVS,(e=>(t(),s("div",{ref_for:!0,ref:"observedElement",class:"rounded-lg border bg-card text-card-foreground shadow-sm overflow-hidden",key:e.id,onClick:a=>l.router.push(`/video?id=${e.id}`)},[y("div",V,[y("div",M,[y("img",{alt:"MV Thumbnail",width:"320",height:"180",class:"w-full object-cover",src:e.cover,style:{"aspect-ratio":"320 / 180","object-fit":"cover"}},null,8,w)]),y("div",C,[y("h2",{class:"font-semibold text-lg mb-1 line-clamp-1",title:e.name},g(e.name),9,S),y("p",k,g(e.artistName),1),y("p",P,g(e.playCount)+" views ",1)])])],8,x)))),128))])])}],["__file","/home/runner/work/KMMusicPlayer/KMMusicPlayer/src/views/discover/mv/index.vue"]]);export{A as default};
