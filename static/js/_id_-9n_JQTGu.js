import{d as w,z as y,r as I,t as S,L,bf as N,A as E,c as d,a as s,g as c,k as e,F as h,j as M,n as R,p as V,i as B,bQ as g,bR as P,bS as j,o as i,f as v,h as A,Y as C,bk as D,_ as z}from"./index-oXozBCMz.js";const F=r=>(V("data-v-99f4d33a"),r=r(),B(),r),K={class:"rounded-lg border bg-card text-card-foreground shadow-sm w-full grid gap-0","data-v0-t":"card"},U={class:"w-full"},O=["src"],Q={class:"max-w-5xl grid gap-6 p-2"},T={class:"grid gap-2"},Y={class:"text-3xl font-bold tracking-tight"},q={class:"text-gray-500 dark:text-gray-400"},G=F(()=>s("div",{class:"grid gap-2"},[s("h2",{class:"text-xl font-semibold tracking-tight"},"Introduction"),s("p",null,' "Lemon" is a song by American band N.E.R.D and Barbadian singer Rihanna. It was released on November 1, 2017. ')],-1)),H={key:0,class:"grid gap-2"},J={class:"text-xl font-semibold tracking-tight"},W={class:"grid gap-5"},X={class:"flex items-center gap-4"},Z={class:"relative flex shrink-0 overflow-hidden rounded-full w-10 h-10 border"},$={class:"grid gap-1.5"},ss={class:"font-semibold"},ts={class:"text-gray-500 text-xs dark:text-gray-400"},es={class:"flex justify-between text-xs"},as={class:"flex items-center gap-1"},os=w({__name:"[id]",setup(r){const l=y(),a=I({mvSrc:"",mvInfo:{},commentsList:{comments:[],total:0}}),{commentsList:_,mvSrc:f,mvInfo:m}=S(a),u=L([]);N(u,{initialPageNum:2,pageSize:10,threshold:.1},x);function x(o){g({offset:o,id:l.params.id}).then(({comments:n})=>{a.commentsList.comments=a.commentsList.comments.concat(n)})}return E(()=>l.params.id,()=>{const o=l.params.id;Promise.all([P(o),j(o),g({id:o})]).then(n=>{a.mvSrc=n[0].data.url,a.mvInfo=n[1].data,a.commentsList=n[2]})},{immediate:!0}),(o,n)=>{var p;const b=C,k=D;return i(),d(h,null,[s("div",K,[s("div",U,[s("video",{class:"w-full rounded-xl",src:c(f),controls:""},null,8,O)])]),s("div",Q,[s("div",T,[s("h1",Y,e(c(m).name),1),s("p",q,e((p=c(m).artists)==null?void 0:p.map(t=>t.name).join(" / ")),1)]),G,c(_).comments.length>0?(i(),d("div",H,[s("h2",J,"评论 ("+e(c(_).total)+")",1),s("div",W,[(i(!0),d(h,null,M(c(_).comments,t=>(i(),d("div",{class:"grid gap-2 bg-white rounded-xl shadow p-4",key:t.id,ref_for:!0,ref_key:"observedElement",ref:u},[s("div",X,[s("span",Z,[v(b,{src:t.user.avatarUrl+"?param=60y60",alt:t.user.nickname},null,8,["src","alt"])]),s("div",$,[s("div",ss,e(t.user.nickname),1),s("div",ts,e(t.timeStr),1)])]),s("div",null,e(t.content),1),s("div",es,[s("div",as,[v(k,{class:"text-red-400"}),A(" "+e(t.likedCount),1)]),s("div",null,e(t.ipLocation.location),1)])]))),128))])])):R("",!0)])],64)}}}),cs=z(os,[["__scopeId","data-v-99f4d33a"],["__file","/home/runner/work/KM-Music-Player/KM-Music-Player/src/pages/video/[id].vue"]]);export{cs as default};
