import{d as e,a as t,t as a,u as s,r as l,K as i,o as n,L as r,N as o,_ as c,b as u,e as d,h as p,w as m,g as f,F as y,k as C,j as g,m as h}from"./index-rAOHIppV.js";const v={class:"h-full w-full p-4"},x={class:"flex items-center"},P={class:"flex-1 pt-4 grid gap-4 grid-cols-[repeat(auto-fill,minmax(180px,1fr))]"},b=["onClick"],_={class:"p-2"},w={class:"font-medium text-sm line-clamp-1"},L={class:"flex items-center w-full gap-2 text-sm text-muted-foreground"},k={class:"text-xs line-clamp-1"};const j=c(e({__name:"index",setup(e,{expose:c}){c();const u=t({Playlist:[],CatList:[{name:"全部",label:"全部"}],currentCat:["全部"]}),{currentCat:d,CatList:p,Playlist:m}=a(u),f=s(),y=l([]);function C(e){r({offset:e+1,cat:u.currentCat}).then((({playlists:e})=>{u.Playlist=u.Playlist.concat(e)}))}i(y,{initialPageNum:1,pageSize:10,threshold:.1},C),n((()=>{r({offset:1,cat:u.currentCat}).then((({playlists:e})=>{u.Playlist=e})),o().then((({sub:e})=>{u.CatList=u.CatList.concat(e)}))}));const g={state:u,currentCat:d,CatList:p,Playlist:m,router:f,observedElement:y,handleIntersect:C,catChange:function(e){u.Playlist=[],r({offset:1,cat:e.join()}).then((({playlists:e})=>{u.Playlist=e}))}};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}}),[["render",function(e,t,a,s,l,i){const n=u("el-select-v2"),r=u("el-image");return g(),d("div",v,[p(n,{modelValue:s.currentCat,"onUpdate:modelValue":t[0]||(t[0]=e=>s.currentCat=e),filterable:"",options:s.CatList,style:{width:"240px"},multiple:"",clearable:"",props:{label:"name",value:"name"},onChange:s.catChange},{default:m((({item:e})=>[f("div",x,[f("span",null,h(e.name),1)])])),_:1},8,["modelValue","options"]),f("section",P,[(g(!0),d(y,null,C(s.Playlist,(e=>(g(),d("div",{class:"group relative rounded-lg overflow-hidden cursor-pointer",key:e.id,ref_for:!0,ref:"observedElement",onClick:t=>s.router.push(`/playlist?id=${e.id}`)},[p(r,{src:e.coverImgUrl+"?param=260y260",lazy:"",class:"transition-opacity rounded-lg"},null,8,["src"]),f("div",_,[f("h3",w,h(e.name),1),f("div",L,[f("span",k,h(e.description),1)])])],8,b)))),128))])])}],["__file","/home/runner/work/KMMusicPlayer/KMMusicPlayer/src/views/discover/disonglist/index.vue"]]);export{j as default};
