import{d as y,z as w,r as I,t as L,L as S,bk as N,A as V,c as d,a as s,g as c,k as e,F as h,j as E,n as M,p as B,i as P,bT as g,bU as R,bV as j,o as i,f as v,h as A,Y as C,bp as D,_ as U}from"./index-MyWbvwGn.js";const z=r=>(B("data-v-99f4d33a"),r=r(),P(),r),F={class:"rounded-lg border bg-card text-card-foreground shadow-sm w-full grid gap-0","data-v0-t":"card"},K={class:"w-full"},T=["src"],O={class:"grid gap-6 p-2"},Y={class:"grid gap-2"},q={class:"text-3xl font-bold tracking-tight"},G={class:"text-gray-500 dark:text-gray-400"},H=z(()=>s("div",{class:"grid gap-2"},[s("h2",{class:"text-xl font-semibold tracking-tight"},"Introduction"),s("p",null,' "Lemon" is a song by American band N.E.R.D and Barbadian singer Rihanna. It was released on November 1, 2017. ')],-1)),J={key:0,class:"grid gap-2"},Q={class:"text-xl font-semibold tracking-tight"},W={class:"grid gap-5"},X={class:"flex items-center gap-4"},Z={class:"relative flex shrink-0 overflow-hidden rounded-full w-10 h-10 border"},$={class:"grid gap-1.5"},ss={class:"font-semibold"},ts={class:"text-gray-500 text-xs dark:text-gray-400"},es={class:"flex justify-between text-xs"},as={class:"flex items-center gap-1"},os=y({__name:"[id]",setup(r){const l=w(),a=I({mvSrc:"",mvInfo:{},commentsList:{comments:[],total:0}}),{commentsList:_,mvSrc:f,mvInfo:m}=L(a),u=S([]);N(u,{initialPageNum:2,pageSize:10,threshold:.1},x);function x(o){g({offset:o,id:l.params.id}).then(({comments:n})=>{a.commentsList.comments=a.commentsList.comments.concat(n)})}return V(()=>l.params.id,()=>{const o=l.params.id;Promise.all([R(o),j(o),g({id:o})]).then(n=>{a.mvSrc=n[0].data.url,a.mvInfo=n[1].data,a.commentsList=n[2]})},{immediate:!0}),(o,n)=>{var p;const b=C,k=D;return i(),d(h,null,[s("div",F,[s("div",K,[s("video",{class:"w-full rounded-xl",src:c(f),controls:""},null,8,T)])]),s("div",O,[s("div",Y,[s("h1",q,e(c(m).name),1),s("p",G,e((p=c(m).artists)==null?void 0:p.map(t=>t.name).join(" / ")),1)]),H,c(_).comments.length>0?(i(),d("div",J,[s("h2",Q," 评论 ("+e(c(_).total)+") ",1),s("div",W,[(i(!0),d(h,null,E(c(_).comments,t=>(i(),d("div",{key:t.id,ref_for:!0,ref_key:"observedElement",ref:u,class:"grid gap-2 bg-white rounded-xl shadow p-4"},[s("div",X,[s("span",Z,[v(b,{src:t.user.avatarUrl+"?param=60y60",alt:t.user.nickname},null,8,["src","alt"])]),s("div",$,[s("div",ss,e(t.user.nickname),1),s("div",ts,e(t.timeStr),1)])]),s("div",null,e(t.content),1),s("div",es,[s("div",as,[v(k,{class:"text-red-400"}),A(" "+e(t.likedCount),1)]),s("div",null,e(t.ipLocation.location),1)])]))),128))])])):M("",!0)])],64)}}}),cs=U(os,[["__scopeId","data-v-99f4d33a"],["__file","/home/runner/work/KM-Music-Player/KM-Music-Player/src/pages/video/[id].vue"]]);export{cs as default};
