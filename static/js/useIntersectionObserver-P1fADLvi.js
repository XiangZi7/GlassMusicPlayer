import"./vue-OG_h3pua.js";import{r as m,k as E,O as L}from"./@vue-Ply1w2vD.js";function I(o,{threshold:v=.1,root:f=null,rootMargin:i="0px",pageSize:p,initialPageNum:r},d){const c=m(r!=null?r:1),t=new Map,a=new IntersectionObserver((n,l)=>{n.forEach(s=>{const e=s.target;s.isIntersecting&&(e.classList.remove("opaque"),e.classList.add("come-in"),t.get(e)&&(d(c.value,p),c.value++,l.unobserve(e)))})},{threshold:v,root:f,rootMargin:i});return E(()=>{a.disconnect(),t.clear();const n=Array.isArray(o.value)?o.value:[o.value],l=n.length-1;n.forEach((s,e)=>{if(s){s.classList.add("opaque"),a.observe(s);const u=e===l;t.set(s,u)}})}),L(()=>{a.disconnect(),t.clear()}),{pageNum:c}}export{I as u};
