import{o as X,n as w}from"./element-plus-a16fcaaf.js";import{_ as z}from"./index-bedf3ec0.js";import{f as J,Z as R,a7 as D,x as v,e as F,o as p,c as _,a as t,W as c,u as l,X as h,U as L,S as U,z as Z,P,a8 as W,R as Y}from"./@vue-b6763d16.js";import"./@element-plus-3d5ed1a4.js";import"./@vueuse-ae6f4f55.js";import"./lodash-es-9cc69f4e.js";import"./@ctrl-86a38320.js";import"./@popperjs-7c8154ca.js";import"./escape-html-8f174268.js";import"./dayjs-3c9a3002.js";import"./normalize-wheel-es-ed76fb12.js";import"./pinia-358b124a.js";import"./pinia-plugin-persist-4bd0ee57.js";import"./axios-e76ab20a.js";import"./vue-router-6e50d621.js";const $={class:"music-player"},A={class:"controls"},G={class:"time"},H=["src"],K={__name:"index",setup(Q){const n=J(),e=R({list:[],playing:!1,currentIndex:0,mode:0,progress:0,duration:0,currentTime:0,songs:[{name:"歌曲1",src:"https://cn-scya-ct-01-03.bilivideo.com/mefmxcodeboss/aod/202112/13/76e0f45f3b756cb5fd82f4024a7e4b7e.m4a?e=ig8euxZM2rNcNbdlhoNvNC8BqJIzNbfq9rVEuxTEnE8L5F6VnEsSTx0vkX8fqJeYTj_lta53NCM=&uipk=5&nbs=1&deadline=1685005922&gen=playurlv2&os=bcache&oi=2104912314&trid=0000e70271b5204f4af5bc9ee48f1da1d033B&mid=0&platform=html5&upsig=13e2f675be1a5aeb3dfdd01c79f6dae1&uparams=e,uipk,nbs,deadline,gen,os,oi,trid,mid,platform&cdnid=62703&bvc=vod&nettype=0&orderid=0,1&logo=00000000"},{name:"歌曲2",src:"https://cn-jxjj-ct-01-01.bilivideo.com/mefmxcodeboss/aod/202106/14/f14b848a15d6357bf2b5dc9c14fcb633.m4a?e=ig8euxZM2rNcNbdlhoNvNC8BqJIzNbfq9rVEuxTEnE8L5F6VnEsSTx0vkX8fqJeYTj_lta53NCM=&uipk=5&nbs=1&deadline=1685005996&gen=playurlv2&os=bcache&oi=2104912314&trid=0000067ed8353dcc4d5096a47f4dbf757368B&mid=0&platform=html5&upsig=ab517e53df7a09c7cb1fc36ab45886ae&uparams=e,uipk,nbs,deadline,gen,os,oi,trid,mid,platform&cdnid=4261&bvc=vod&nettype=0&orderid=0,1&logo=00000000"}],value1:[],options:[{value:"Option1",label:"Option1"},{value:"Option2",label:"Option2"},{value:"Option3",label:"Option3"},{value:"Option4",label:"Option4"},{value:"Option5",label:"Option5"}]}),{list:ee,currentTime:x,duration:y,progress:m,value1:d,options:k,playing:T}=D(e),u=v(()=>e.songs[e.currentIndex]),N=v(()=>["顺序播放","单曲循环","随机播放"][e.mode]);F(()=>{n.value.src=u.value.src});const S=()=>{e.playing=!0,n.value.play()},C=()=>{e.playing=!1,n.value.pause()},E=()=>{e.playing?C():S()},I=()=>{e.currentIndex===0?e.currentIndex=e.songs.length-1:e.currentIndex--,i()},f=()=>{e.currentIndex===e.songs.length-1?e.currentIndex=0:e.currentIndex++,i()},i=()=>{n.value.src=u.value.src,n.value.play(),e.playing=!0},M=()=>{switch(e.mode){case 0:f();break;case 1:i();break;case 2:const o=Math.floor(Math.random()*e.songs.length);e.currentIndex=o,i();break}},O=()=>{e.currentTime=Math.floor(n.value.currentTime),e.progress=e.currentTime/e.duration*100},B=()=>{e.duration=Math.floor(n.value.duration)},V=()=>{e.mode===2?e.mode=0:e.mode++},g=o=>{const a=Math.floor(o/60),r=o%60;return`${a}:${r.toString().padStart(2,"0")}`},j=o=>{const a=o.currentTarget.getBoundingClientRect(),r=a.width,s=(o.clientX-a.left)/r;n.value.currentTime=e.duration*s};function q(o){o.join()}return(o,a)=>{const r=w,b=X;return p(),_("div",$,[t("div",A,[t("button",{onClick:I},"上一首"),t("button",{onClick:E},c(l(T)?"暂停":"播放"),1),t("button",{onClick:f},"下一首"),t("button",{onClick:V},c(l(N)),1)]),t("div",{class:"progress",onClick:a[0]||(a[0]=s=>j(s))},[t("div",{class:"bar",style:h({width:l(m)+"%"})},null,4),t("div",{class:"thumb",style:h({left:l(m)+"%"})},null,4),t("div",G,c(g(l(x)))+" / "+c(g(l(y))),1)]),t("audio",{ref_key:"audio",ref:n,src:l(u).src,onTimeupdate:O,onDurationchange:B,onEnded:M},null,40,H),L(b,{modelValue:l(d),"onUpdate:modelValue":a[1]||(a[1]=s=>Z(d)?d.value=s:null),onChange:q,multiple:"",placeholder:"Select",style:{width:"240px"}},{default:U(()=>[(p(!0),_(P,null,W(l(k),s=>(p(),Y(r,{key:s.value,label:s.label,value:s.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])}}},be=z(K,[["__scopeId","data-v-d4d76027"]]);export{be as default};
