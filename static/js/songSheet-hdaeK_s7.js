import"./vue-BZWOMMSN.js";import{o as i,c as l,a as s,r as k,w as x,d as V,at as T,ap as w,F as $,U as P,a6 as Z,Y as m,e as M,T as C}from"./@vue-F4a5j40Z.js";import{b as H,f as L,d as S,_ as B}from"./index-8nxaCWdS.js";const D={viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},E=s("path",{fill:"currentColor",d:"M216 40H40a16 16 0 0 0-16 16v144a16 16 0 0 0 16 16h176a16 16 0 0 0 16-16V56a16 16 0 0 0-16-16M40 88h80v80H40Zm96-16V56h32v16Zm-16 0H88V56h32Zm0 112v16H88v-16Zm16 0h32v16h-32Zm0-16V88h80v80Zm80-96h-32V56h32ZM72 56v16H40V56ZM40 184h32v16H40Zm176 16h-32v-16h32z"},null,-1),j=[E];function A(o,d){return i(),l("svg",D,[...j])}const F={name:"ph-film-strip",render:A},I={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},N=s("path",{fill:"currentColor",d:"m10.65 15.75l4.875-3.125q.35-.225.35-.625t-.35-.625L10.65 8.25q-.375-.25-.763-.038t-.387.663v6.25q0 .45.388.663t.762-.038M12 22q-2.075 0-3.9-.788t-3.175-2.137q-1.35-1.35-2.137-3.175T2 12q0-2.075.788-3.9t2.137-3.175q1.35-1.35 3.175-2.137T12 2q2.075 0 3.9.788t3.175 2.137q1.35 1.35 2.138 3.175T22 12q0 2.075-.788 3.9t-2.137 3.175q-1.35 1.35-3.175 2.138T12 22m0-2q3.35 0 5.675-2.325T20 12q0-3.35-2.325-5.675T12 4Q8.65 4 6.325 6.325T4 12q0 3.35 2.325 5.675T12 20m0-8"},null,-1),U=[N];function K(o,d){return i(),l("svg",I,[...U])}const O={name:"material-symbols-play-circle-outline-rounded",render:K},z=(o,d)=>{const h=(a,_)=>{a.forEach(n=>{if(n.isIntersecting){const r=n.target;p(r),r.classList.remove("opaque"),r.classList.add("come-in"),_.unobserve(r)}})},v=new IntersectionObserver(h),c=k(1);function p(a){a===o.value[o.value.length-1]&&(c.value++,d(c.value))}const u=x(()=>o.value.length,(a,_)=>{o.value.slice(_).forEach(n=>{n.classList.add("opaque"),v.observe(n)})});return{currentPage:c,stopWatch:u}},Q={class:"music-list"},W=["onDblclick"],Y={class:"item-section cover-container yx-col-6"},G=["src","alt"],J={class:"ml-2"},R={class:"item-section artist-container yx-col-6"},X={class:"tx-ellipsis"},ee={class:"item-section time-container yx-col-4"},se={class:"item-section time-container yx-col-4 text-center"},te={class:"item-section controls-container yx-col-4"},oe={class:"button"},ne={key:0,class:"button"},ce=V({__name:"songSheet",props:{modelValue:{type:Array},modelModifiers:{}},emits:T(["query"],["update:modelValue"]),setup(o,{emit:d}){const h=w(o,"modelValue"),v=H(),c=$("musicPlayer");if(!c)throw new Error("musicPlayer is not provided.");const{addTrackAndPlay:p}=c,u=k([]),a=d,{currentPage:_}=z(u,n);function n(e){console.log(_),a("query",e)}function r(e){return L(e)}function b(e){S(e.id).then(({data:q})=>{let f={id:e.id,title:e.name,singer:e.ar.map(g=>g.name).join(" / "),album:e.al.name,cover:e.al.picUrl,source:q[0].url,time:e.dt,mv:e.mv};v.addTrackAndPlay(f),p()})}return(e,q)=>{const f=O,g=F;return i(),l("div",Q,[(i(!0),l(P,null,Z(h.value,t=>(i(),l("div",{key:t.id,ref_for:!0,ref_key:"observer_item",ref:u,class:"list-item",onDblclick:y=>b(t)},[s("div",Y,[s("img",{class:"cover",src:t.al.picUrl,alt:t.name},null,8,G),s("span",J,m(t.name),1)]),s("div",R,[s("span",X,m(t.ar.map(y=>y.name).join(" / ")),1)]),s("div",ee,m(t.al.name),1),s("div",se,m(r(t.dt)),1),s("div",te,[s("div",oe,[M(f,{class:"icon",onClick:y=>b(t)},null,8,["onClick"])]),t.mv!=0?(i(),l("div",ne,[M(g,{class:"icon"})])):C("",!0)])],40,W))),128))])}}}),le=B(ce,[["__scopeId","data-v-c7ebbab8"],["__file","/home/runner/work/KM-Music-Player/KM-Music-Player/src/components/songSheet.vue"]]);export{le as _};
