import{_ as C}from"./songSheet-GdYC0ak6.js";import{c as N,i as T}from"./element-plus-HgVO88ID.js";import"./vue-QRcACDZS.js";import{b as j,d as A,e as D,_ as I}from"./index-oaXunfDq.js";import{b as L}from"./vue-router-d3mNYdNn.js";import{d as P,$ as K,af as O,w as R,u as s,c as u,a as e,Z as $,Y as c,e as B,U as z,a6 as F,V as Y,b as Z,T as M,o as p,a8 as q}from"./@vue-pciPq-Ev.js";import"./useObserver-UdzpyLr5.js";import"./@element-plus-jC-WUTAd.js";import"./@vueuse-aTQAE_yp.js";import"./lodash-es-DA4vajO2.js";import"./@ctrl--dareiTT.js";import"./@popperjs-NiN61gaS.js";import"./memoize-one-JaOscZgY.js";import"./pinia-2idKN3M1.js";import"./axios-52F-EHG1.js";import"./nprogress-1-LfP57V.js";import"./@babel-3yCADe9Y.js";import"./pinia-plugin-persistedstate-XbYvz584.js";const G={key:0,class:"playlist"},H={class:"flex mb-3"},J={class:"playlist-info"},Q={class:"author"},W={class:"author-name"},X={class:"playlist-description"},tt={class:"tags"},st={class:"Button-group mt-3"},at=P({__name:"[id]",setup(et){const E=j(),S=L(),o=K({playlists:void 0}),{playlists:t}=O(o);R(()=>S.params.id,r=>{o.playlists=void 0,D(r).then(({playlist:l})=>{o.playlists=l})},{immediate:!0});function _(r){return r instanceof Object?Object.keys(r).length>0:!1}function U(){if(!o.playlists||!o.playlists.tracks)return;let r=o.playlists.tracks.map(n=>n.id).join(),l=[];A(r).then(({data:n})=>{o.playlists.tracks.forEach(a=>{let m=n.find(i=>a.id===i.id);l.push({id:a.id,title:a.name,singer:a.ar.map(i=>i.name).join(),album:a.al.name,cover:a.al.picUrl,source:m.url,time:a.dt,mv:a.mv})}),E.addTrackAndPlay(l)})}return(r,l)=>{var i,y,f,h,v,k,g,b,V,x;const n=N,a=T,m=C;return _(s(t))?(p(),u("div",G,[e("div",H,[e("div",{class:"playlist-cover yx-col-6",style:$({backgroundImage:`url(${((i=s(t))==null?void 0:i.coverImgUrl)+"?param=500y500"})`})},null,4),e("div",J,[e("h2",null,c((y=s(t))==null?void 0:y.name),1),e("div",Q,[B(n,{class:"mr-2",src:((h=(f=s(t))==null?void 0:f.creator)==null?void 0:h.avatarUrl)+"?param=60y60",alt:(k=(v=s(t))==null?void 0:v.creator)==null?void 0:k.nickname},null,8,["src","alt"]),e("span",W,c((b=(g=s(t))==null?void 0:g.creator)==null?void 0:b.nickname),1)]),e("p",X,c((V=s(t))==null?void 0:V.description),1),e("ul",tt,[(p(!0),u(z,null,F((x=s(t))==null?void 0:x.tags,(d,w)=>(p(),u("li",{key:w},c(d)+">钢琴 ",1))),128))]),e("div",st,[B(a,{type:"primary",onClick:U},{default:Y(()=>[q("播放全部")]),_:1})])])]),_(s(t))?(p(),Z(m,{key:0,modelValue:s(t).tracks,"onUpdate:modelValue":l[0]||(l[0]=d=>s(t).tracks=d)},null,8,["modelValue"])):M("",!0)])):M("",!0)}}}),Vt=I(at,[["__scopeId","data-v-898ab488"],["__file","/home/runner/work/KM-Music-Player/KM-Music-Player/src/pages/songList/songListDetails/[id].vue"]]);export{Vt as default};
